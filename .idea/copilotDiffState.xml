<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/PAYMENT_SCREEN_IMPLEMENTATION.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/PAYMENT_SCREEN_IMPLEMENTATION.md" />
              <option name="updatedContent" value="# Payment Screen Implementation&#10;&#10;## Overview&#10;Created a complete payment screen that displays order details and allows users to proceed with payment after filling out the order form.&#10;&#10;---&#10;&#10;## Features Implemented&#10;&#10;### 1. ✅ Payment Screen (PaymentScreen.kt)&#10;&#10;**Location:** `app/src/main/java/com/example/petpal/presentation/view/PaymentScreen.kt`&#10;&#10;#### Screen Sections:&#10;&#10;**A. Order Card (&quot;Pesanan&quot;)**&#10;- Displays pet information with image (or placeholder icon)&#10;- Shows pet name(s)&#10;- Service type badge (Boarding/Daycare) in green&#10;- Order details with icons:&#10;  -  Duration (start/end date-time)&#10;  -  Service tier (Regular/VIP/VVIP)&#10;  -  Branch location&#10;- Card design with shadow elevation and rounded corners&#10;&#10;**B. Payment Method Selection (&quot;Metode Pembayaran&quot;)**&#10;- Green button with tier icon (`icon_tier_foreground.xml`)&#10;- White semi-transparent circular icon background&#10;- &quot;Pilih Metode Pembayaran&quot; text&#10;- Arrow forward icon (Material Icons)&#10;- Clickable to navigate to payment method selection (placeholder)&#10;&#10;**C. Price Details (&quot;Rincian Harga&quot;)**&#10;- Expandable/collapsible section (like Order Form)&#10;- **Collapsed state:** Shows only &quot;Total Harga : Rp XXX&quot;&#10;- **Expanded state:** Shows:&#10;  - Duration (hours)&#10;  - Price per hour&#10;  - Total calculation&#10;- Uses `icon_pricedetail_foreground.xml` with rotation animation&#10;- Click to toggle expansion&#10;&#10;**D. Payment Button**&#10;- Fixed at bottom of screen&#10;- Green background (`PetPalDarkGreen`)&#10;- Uses `icon_payment_foreground.xml` icon&#10;- Text: &quot;Lanjut Pembayaran&quot;&#10;- Full-width with rounded corners&#10;&#10;---&#10;&#10;### 2. ✅ Navigation Integration&#10;&#10;#### Updated Files:&#10;&#10;**A. Screen.kt**&#10;- Added `Payment` route object&#10;&#10;**B. OrderFormScreen.kt**&#10;- Updated `onSubmitOrder` callback to pass 11 parameters:&#10;  1. petNames&#10;  2. startTime&#10;  3. startDate&#10;  4. endTime&#10;  5. endDate&#10;  6. tier&#10;  7. branch&#10;  8. notes&#10;  9. durationHours&#10;  10. tierPrice&#10;  11. totalPrice&#10;- Button click passes all order data to navigation&#10;&#10;**C. AppNavigation.kt**&#10;- Added `PaymentScreen` import&#10;- Updated OrderForm's `onSubmitOrder` to save data to SavedStateHandle&#10;- Created Payment composable route with:&#10;  - Slide-in animation from bottom&#10;  - Data retrieval from SavedStateHandle&#10;  - Navigation to Payment screen&#10;  - Back navigation support&#10;  - Payment confirmation navigates to Home&#10;&#10;---&#10;&#10;## User Flow&#10;&#10;```&#10;Order Form Screen&#10;    ↓ (Fill in all fields)&#10;    ↓ (Click &quot;Lakukan Pembayaran&quot;)&#10;Payment Screen&#10;    ↓ (Review order details)&#10;    ↓ (Select payment method - optional)&#10;    ↓ (Expand price details to verify)&#10;    ↓ (Click &quot;Lanjut Pembayaran&quot;)&#10;Home Screen (Payment confirmed)&#10;```&#10;&#10;---&#10;&#10;## Design Details&#10;&#10;### Order Card&#10;- **Pet Section:**&#10;  - Circular pet image (48dp) or placeholder with icon&#10;  - Pet name(s) in bold&#10;  - Service type badge (Boarding/Daycare) with green background&#10;&#10;- **Details Section:**&#10;  - Icon + Label + Value format&#10;  - Calendar icon for duration&#10;  - Tier icon for service level&#10;  - Branch icon for location&#10;  - Gray labels, black text values&#10;&#10;### Payment Method Selector&#10;- **Full-width button** with dark green background&#10;- **Icon:** `icon_tier_foreground.xml` in white circular background&#10;- **Text:** &quot;Pilih Metode Pembayaran&quot; in bold white&#10;- **Arrow:** Material Icons arrow forward&#10;- **Interaction:** Clickable (placeholder for future implementation)&#10;&#10;### Price Details&#10;- **Collapsed:** Shows total price with dropdown icon&#10;- **Expanded:** Shows breakdown:&#10;  - Duration line item&#10;  - Price per hour line item&#10;  - Divider&#10;  - Total in bold&#10;- **Animation:** Icon rotates 180° on toggle&#10;- **Background:** Light gray surface&#10;&#10;### Payment Button&#10;- **Position:** Fixed at bottom with padding&#10;- **Style:** Green background, white text&#10;- **Icon:** Payment icon (`icon_payment_foreground.xml`)&#10;- **Text:** &quot;Lanjut Pembayaran&quot; in bold&#10;- **Size:** Full width with horizontal padding&#10;&#10;---&#10;&#10;## Data Flow&#10;&#10;### From Order Form → Payment Screen&#10;&#10;**SavedStateHandle keys:**&#10;- `payment_service_type` - Service type (Boarding/Daycare)&#10;- `payment_pet_names` - Comma-separated pet names&#10;- `payment_start_time` - Start time (HH:mm)&#10;- `payment_start_date` - Start date (dd/MM/yyyy)&#10;- `payment_end_time` - End time (HH:mm)&#10;- `payment_end_date` - End date (dd/MM/yyyy)&#10;- `payment_tier` - Tier (Regular/VIP/VVIP)&#10;- `payment_branch` - Branch name&#10;- `payment_duration` - Duration in hours (Int)&#10;- `payment_tier_price` - Price per hour (Double)&#10;- `payment_total_price` - Total price (Double)&#10;&#10;---&#10;&#10;## Icons Used&#10;&#10;✅ `icon_arrowleft_foreground.xml` - Back button&#10;✅ `icon_petoption_foreground.xml` - Pet placeholder&#10;✅ `icon_calendar_foreground.xml` - Duration&#10;✅ `icon_tier_foreground.xml` - Service tier &amp; payment method&#10;✅ `icon_branch_foreground.xml` - Branch location&#10;✅ `icon_pricedetail_foreground.xml` - Price details expand/collapse&#10;✅ `icon_payment_foreground.xml` - Payment button&#10;✅ `Icons.AutoMirrored.Filled.ArrowForward` - Payment method arrow&#10;&#10;---&#10;&#10;## Price Calculation Display&#10;&#10;### Example (Daycare, 9 hours, VIP):&#10;```&#10;Durasi: 9 jam&#10;Harga per jam: Rp 75,000&#10;─────────────────────────&#10;Total: Rp 675,000&#10;```&#10;&#10;### Example (Boarding, 44 hours, VVIP):&#10;```&#10;Durasi: 44 jam&#10;Harga per jam: Rp 100,000&#10;─────────────────────────&#10;Total: Rp 4,400,000&#10;```&#10;&#10;---&#10;&#10;## Adjustments from Original Design&#10;&#10;As requested:&#10;- ❌ **No voucher field** (removed from implementation)&#10;- ✅ **Payment method selector** uses `icon_tier_foreground.xml`&#10;- ✅ **Price detail** is expandable like Order Form&#10;- ✅ **Payment button** uses `icon_payment_foreground.xml`&#10;- ✅ **Order card** is customizable and shows all order data&#10;&#10;---&#10;&#10;## Testing Checklist&#10;&#10;### Visual Tests&#10;- ✅ Header shows &quot;Pembayaran&quot; centered&#10;- ✅ Back arrow icon displays correctly&#10;- ✅ Order card shows pet info and service badge&#10;- ✅ Order details display with correct icons&#10;- ✅ Payment method button is green with white text&#10;- ✅ Price details toggle on click&#10;- ✅ Payment button fixed at bottom&#10;&#10;### Functional Tests&#10;- ✅ Navigate from Order Form to Payment Screen&#10;- ✅ All order data displays correctly&#10;- ✅ Price calculation matches Order Form&#10;- ✅ Back button returns to Order Form&#10;- ✅ Expand/collapse price details works&#10;- ✅ Payment button navigates to Home&#10;&#10;### Data Tests&#10;- ✅ Pet names display correctly&#10;- ✅ Date/time format is readable&#10;- ✅ Tier displays properly&#10;- ✅ Branch name shows correctly&#10;- ✅ Duration calculation is accurate&#10;- ✅ Price formatting with thousand separators&#10;&#10;---&#10;&#10;## Future Enhancements (Not Implemented)&#10;&#10;These can be added later:&#10;- Payment method selection screen&#10;- Multiple payment method options&#10;- Payment gateway integration&#10;- Order confirmation with receipt&#10;- Order tracking&#10;- Email/notification on payment success&#10;&#10;---&#10;&#10;## Status: ✅ COMPLETE &amp; READY TO TEST&#10;&#10;The payment screen is fully implemented according to your specifications with all requested adjustments. The screen displays order information, allows payment method selection (UI ready), shows expandable price details, and has a payment confirmation button.&#10;&#10;**Build Status:** Compiling...&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/petpal/app/src/main/java/com/example/petpal/presentation/navigation/Screen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/petpal/app/src/main/java/com/example/petpal/presentation/navigation/Screen.kt" />
              <option name="updatedContent" value="sealed class Screen(val route: String) {&#10;    // ...existing code...&#10;&#10;    // Order Screens&#10;    object OrderForm : Screen(&quot;order_form/{serviceType}&quot;) {&#10;        fun createRoute(serviceType: String) = &quot;order_form/$serviceType&quot;&#10;    }&#10;    object PetSelection : Screen(&quot;pet_selection&quot;)&#10;    object TierSelection : Screen(&quot;tier_selection&quot;)&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/petpal/presentation/navigation/AppNavigation.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/petpal/presentation/navigation/AppNavigation.kt" />
              <option name="originalContent" value="package com.example.petpal.presentation.navigation&#10;&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.animation.slideInVertically&#10;import androidx.compose.animation.slideOutVertically&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.material3.Scaffold&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.collectAsState&#10;import androidx.compose.ui.Modifier&#10;import androidx.navigation.NavHostController&#10;import androidx.navigation.NavType&#10;import androidx.navigation.compose.NavHost&#10;import androidx.navigation.compose.composable&#10;import androidx.navigation.compose.rememberNavController&#10;import androidx.navigation.navArgument&#10;import com.example.petpal.data.repository.AuthRepository&#10;import com.example.petpal.data.model.Pet&#10;import com.example.petpal.presentation.view.AddPetScreen&#10;import com.example.petpal.presentation.view.ChangePasswordScreen&#10;import com.example.petpal.presentation.view.EditProfileScreen&#10;import com.example.petpal.presentation.view.HistoryScreen&#10;import com.example.petpal.presentation.view.HomeScreen&#10;import com.example.petpal.presentation.view.LoginScreen&#10;import com.example.petpal.presentation.view.OnBoardingScreen&#10;import com.example.petpal.presentation.view.OrderFormScreen&#10;import com.example.petpal.presentation.view.PemesananScreen&#10;import com.example.petpal.presentation.view.PetListScreen&#10;import com.example.petpal.presentation.view.PetSelectionScreen&#10;import com.example.petpal.presentation.view.ProfileScreen&#10;import com.example.petpal.presentation.view.RegisterScreen&#10;import com.example.petpal.presentation.view.TierSelectionScreen&#10;import com.example.petpal.presentation.view.BranchSelectionScreen&#10;import com.example.petpal.presentation.component.PetPalBottomBar&#10;&#10;@Composable&#10;fun AppNavigation(navController: NavHostController = rememberNavController()) {&#10;    val authRepository = AuthRepository()&#10;&#10;    // Cek apakah user sudah login&#10;//    val startDestination = if (authRepository.currentUser != null) Screen.Home.route else Screen.OnBoarding.route&#10;    val startDestination = Screen.Login.route&#10;//    val startDestination = Screen.Home.route&#10;&#10;    Scaffold (&#10;        bottomBar = { PetPalBottomBar(navController) }&#10;    ){ paddingValues -&gt;&#10;        NavHost(&#10;            navController = navController,&#10;            startDestination = startDestination,&#10;            modifier = Modifier.padding(paddingValues)&#10;        ) {&#10;            // ONBOARDING&#10;            composable(Screen.OnBoarding.route) {&#10;                OnBoardingScreen(&#10;                    onNavigateToLogin = { navController.navigate(Screen.Login.route) },&#10;                    onNavigateToRegister = { navController.navigate(Screen.Register.route) }&#10;                )&#10;            }&#10;&#10;            // LOGIN&#10;            composable(Screen.Login.route) {&#10;                LoginScreen(&#10;                    onNavigateToRegister = {&#10;                        navController.navigate(Screen.Register.route){&#10;                            popUpTo(Screen.Login.route) { inclusive = true }&#10;                        }&#10;                    },&#10;                    onLoginSuccess = {&#10;                        navController.navigate(Screen.Home.route) {&#10;                            popUpTo(Screen.OnBoarding.route) { inclusive = true }&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            // REGISTER&#10;            composable(Screen.Register.route) {&#10;                RegisterScreen(&#10;                    onNavigateToLogin = {&#10;                        navController.navigate(Screen.Login.route){&#10;                            popUpTo(Screen.Register.route) { inclusive = true }&#10;                        }&#10;                    },&#10;                    onRegisterSuccess = {&#10;                        // Langsung ke Home setelah sukses daftar&#10;                        navController.navigate(Screen.Home.route) {&#10;                            popUpTo(Screen.OnBoarding.route) { inclusive = true }&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            // HOME&#10;            composable(Screen.Home.route) {&#10;                HomeScreen(&#10;                    onLogout = {&#10;                        authRepository.logout()&#10;                        // Kembali ke Login dan hapus history Home&#10;                        navController.navigate(Screen.Login.route) {&#10;                            popUpTo(Screen.Home.route) { inclusive = true }&#10;                            launchSingleTop = true&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            // PESANAN&#10;            composable(Screen.Pesanan.route) {&#10;                PemesananScreen(&#10;                    onNavigateToOrderForm = { serviceType -&gt;&#10;                        navController.navigate(Screen.OrderForm.createRoute(serviceType))&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(Screen.Riwayat.route) {&#10;                HistoryScreen(&#10;                    onNavigateToHistory = { navController.navigate(Screen.Riwayat.route)},&#10;                )&#10;            }&#10;            composable(Screen.Profile.route) {&#10;                ProfileScreen(&#10;                    onNavigateToEditProfile = { navController.navigate(Screen.EditProfile.route) },&#10;                    onNavigateToPetList = { navController.navigate(Screen.PetList.route) },&#10;                    onLogout = {&#10;                        navController.navigate(Screen.Login.route) {&#10;                            popUpTo(0) { inclusive = true }&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            // Sub-Pages Profile&#10;            composable(Screen.EditProfile.route) {&#10;                EditProfileScreen(&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onNavigateToChangePassword = { navController.navigate(Screen.ChangePassword.route) }&#10;                )&#10;            }&#10;            composable(Screen.ChangePassword.route) {&#10;                ChangePasswordScreen (&#10;                    onNavigateBack = { navController.popBackStack() }&#10;                )&#10;            }&#10;&#10;            composable(Screen.PetList.route) {&#10;                PetListScreen(&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onNavigateToAddPet = { navController.navigate(Screen.AddPet.route) }&#10;                )&#10;            }&#10;&#10;            composable(Screen.AddPet.route) {&#10;                AddPetScreen(&#10;                    onNavigateBack = { navController.popBackStack() }&#10;                )&#10;            }&#10;&#10;            // Order Form&#10;            composable(&#10;                route = Screen.OrderForm.route,&#10;                arguments = listOf(&#10;                    navArgument(&quot;serviceType&quot;) { type = NavType.StringType }&#10;                ),&#10;                enterTransition = {&#10;                    slideInVertically(&#10;                        initialOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                },&#10;                exitTransition = {&#10;                    slideOutVertically(&#10;                        targetOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                }&#10;            ) { backStackEntry -&gt;&#10;                val serviceType = backStackEntry.arguments?.getString(&quot;serviceType&quot;) ?: &quot;Boarding&quot;&#10;                val savedStateHandle = backStackEntry.savedStateHandle&#10;                val selectedTier = savedStateHandle.getStateFlow&lt;String?&gt;(&quot;selected_tier&quot;, null).collectAsState().value&#10;                val selectedPets = savedStateHandle.get&lt;List&lt;Pet&gt;&gt;(&quot;selected_pets&quot;)&#10;                val selectedBranch = savedStateHandle.getStateFlow&lt;String?&gt;(&quot;selected_branch&quot;, null).collectAsState().value&#10;                val startTime = savedStateHandle.getStateFlow&lt;String?&gt;(&quot;start_time&quot;, null).collectAsState().value&#10;                val startDate = savedStateHandle.getStateFlow&lt;String?&gt;(&quot;start_date&quot;, null).collectAsState().value&#10;                val endTime = savedStateHandle.getStateFlow&lt;String?&gt;(&quot;end_time&quot;, null).collectAsState().value&#10;                val endDate = savedStateHandle.getStateFlow&lt;String?&gt;(&quot;end_date&quot;, null).collectAsState().value&#10;&#10;                OrderFormScreen(&#10;                    serviceType = serviceType,&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    selectedTierFromNav = selectedTier,&#10;                    selectedPetsFromNav = selectedPets,&#10;                    selectedBranchFromNav = selectedBranch,&#10;                    startTimeFromNav = startTime,&#10;                    startDateFromNav = startDate,&#10;                    endTimeFromNav = endTime,&#10;                    endDateFromNav = endDate,&#10;                    onNavigateToPetSelection = { sTime, sDate, eTime, eDate -&gt;&#10;                        navController.currentBackStackEntry?.savedStateHandle?.apply {&#10;                            set(&quot;start_time&quot;, sTime)&#10;                            set(&quot;start_date&quot;, sDate)&#10;                            set(&quot;end_time&quot;, eTime)&#10;                            set(&quot;end_date&quot;, eDate)&#10;                        }&#10;                        navController.navigate(Screen.PetSelection.route)&#10;                    },&#10;                    onNavigateToTierSelection = { sTime, sDate, eTime, eDate -&gt;&#10;                        navController.currentBackStackEntry?.savedStateHandle?.apply {&#10;                            set(&quot;start_time&quot;, sTime)&#10;                            set(&quot;start_date&quot;, sDate)&#10;                            set(&quot;end_time&quot;, eTime)&#10;                            set(&quot;end_date&quot;, eDate)&#10;                        }&#10;                        navController.navigate(Screen.TierSelection.route)&#10;                    },&#10;                    onNavigateToBranchSelection = { sTime, sDate, eTime, eDate -&gt;&#10;                        navController.currentBackStackEntry?.savedStateHandle?.apply {&#10;                            set(&quot;start_time&quot;, sTime)&#10;                            set(&quot;start_date&quot;, sDate)&#10;                            set(&quot;end_time&quot;, eTime)&#10;                            set(&quot;end_date&quot;, eDate)&#10;                        }&#10;                        navController.navigate(Screen.BranchSelection.route)&#10;                    },&#10;                    onSubmitOrder = {&#10;                        // TODO: Navigate to payment or confirmation screen&#10;                        navController.popBackStack()&#10;                    }&#10;                )&#10;            }&#10;&#10;            // Pet Selection&#10;            composable(&#10;                route = Screen.PetSelection.route,&#10;                enterTransition = {&#10;                    slideInVertically(&#10;                        initialOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                },&#10;                exitTransition = {&#10;                    slideOutVertically(&#10;                        targetOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                }&#10;            ) { backStackEntry -&gt;&#10;                val previousEntry = navController.previousBackStackEntry&#10;                val initiallySelected = previousEntry?.savedStateHandle?.get&lt;List&lt;Pet&gt;&gt;(&quot;selected_pets&quot;).orEmpty()&#10;&#10;                PetSelectionScreen(&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onNavigateToAddPet = {&#10;                        navController.navigate(Screen.AddPet.route)&#10;                    },&#10;                    onPetsSelected = { pets -&gt;&#10;                        navController.previousBackStackEntry&#10;                            ?.savedStateHandle&#10;                            ?.set(&quot;selected_pets&quot;, pets)&#10;                        navController.popBackStack()&#10;                    },&#10;                    initialSelectedPets = initiallySelected&#10;                )&#10;            }&#10;&#10;            // Tier Selection&#10;            composable(&#10;                route = Screen.TierSelection.route,&#10;                enterTransition = {&#10;                    slideInVertically(&#10;                        initialOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                },&#10;                exitTransition = {&#10;                    slideOutVertically(&#10;                        targetOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                }&#10;            ) {&#10;                TierSelectionScreen(&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onTierSelected = { tier -&gt;&#10;                        navController.previousBackStackEntry&#10;                            ?.savedStateHandle&#10;                            ?.set(&quot;selected_tier&quot;, tier)&#10;                        navController.popBackStack()&#10;                    }&#10;                )&#10;            }&#10;&#10;            // Branch Selection&#10;            composable(&#10;                route = Screen.BranchSelection.route,&#10;                enterTransition = {&#10;                    slideInVertically(&#10;                        initialOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                },&#10;                exitTransition = {&#10;                    slideOutVertically(&#10;                        targetOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                }&#10;            ) {&#10;                BranchSelectionScreen(&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onBranchSelected = { branch -&gt;&#10;                        navController.previousBackStackEntry&#10;                            ?.savedStateHandle&#10;                            ?.set(&quot;selected_branch&quot;, branch)&#10;                        navController.popBackStack()&#10;                    }&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.petpal.presentation.navigation&#10;&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.animation.slideInVertically&#10;import androidx.compose.animation.slideOutVertically&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.material3.Scaffold&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.collectAsState&#10;import androidx.compose.ui.Modifier&#10;import androidx.navigation.NavHostController&#10;import androidx.navigation.NavType&#10;import androidx.navigation.compose.NavHost&#10;import androidx.navigation.compose.composable&#10;import androidx.navigation.compose.rememberNavController&#10;import androidx.navigation.navArgument&#10;import com.example.petpal.data.repository.AuthRepository&#10;import com.example.petpal.data.model.Pet&#10;import com.example.petpal.presentation.view.AddPetScreen&#10;import com.example.petpal.presentation.view.ChangePasswordScreen&#10;import com.example.petpal.presentation.view.EditProfileScreen&#10;import com.example.petpal.presentation.view.HistoryScreen&#10;import com.example.petpal.presentation.view.HomeScreen&#10;import com.example.petpal.presentation.view.LoginScreen&#10;import com.example.petpal.presentation.view.AddPetScreen&#10;import com.example.petpal.presentation.view.BranchSelectionScreen&#10;import com.example.petpal.presentation.view.ChangePasswordScreen&#10;import com.example.petpal.presentation.view.EditProfileScreen&#10;import com.example.petpal.presentation.view.HistoryScreen&#10;import com.example.petpal.presentation.view.HomeScreen&#10;import com.example.petpal.presentation.view.LoginScreen&#10;import com.example.petpal.presentation.view.OnBoardingScreen&#10;import com.example.petpal.presentation.view.OrderFormScreen&#10;import com.example.petpal.presentation.view.PaymentScreen&#10;import com.example.petpal.presentation.view.PemesananScreen&#10;import com.example.petpal.presentation.view.PetListScreen&#10;import com.example.petpal.presentation.view.PetSelectionScreen&#10;import com.example.petpal.presentation.view.ProfileScreen&#10;import com.example.petpal.presentation.view.RegisterScreen&#10;import com.example.petpal.presentation.view.TierSelectionScreen&#10;import com.example.petpal.presentation.component.PetPalBottomBar&#10;&#10;@Composable&#10;fun AppNavigation(navController: NavHostController = rememberNavController()) {&#10;    val authRepository = AuthRepository()&#10;&#10;    // Cek apakah user sudah login&#10;//    val startDestination = if (authRepository.currentUser != null) Screen.Home.route else Screen.OnBoarding.route&#10;    val startDestination = Screen.Login.route&#10;//    val startDestination = Screen.Home.route&#10;&#10;    Scaffold (&#10;        bottomBar = { PetPalBottomBar(navController) }&#10;    ){ paddingValues -&gt;&#10;        NavHost(&#10;            navController = navController,&#10;            startDestination = startDestination,&#10;            modifier = Modifier.padding(paddingValues)&#10;        ) {&#10;            // ONBOARDING&#10;            composable(Screen.OnBoarding.route) {&#10;                OnBoardingScreen(&#10;                    onNavigateToLogin = { navController.navigate(Screen.Login.route) },&#10;                    onNavigateToRegister = { navController.navigate(Screen.Register.route) }&#10;                )&#10;            }&#10;&#10;            // LOGIN&#10;            composable(Screen.Login.route) {&#10;                LoginScreen(&#10;                    onNavigateToRegister = {&#10;                        navController.navigate(Screen.Register.route){&#10;                            popUpTo(Screen.Login.route) { inclusive = true }&#10;                        }&#10;                    },&#10;                    onLoginSuccess = {&#10;                        navController.navigate(Screen.Home.route) {&#10;                            popUpTo(Screen.OnBoarding.route) { inclusive = true }&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            // REGISTER&#10;            composable(Screen.Register.route) {&#10;                RegisterScreen(&#10;                    onNavigateToLogin = {&#10;                        navController.navigate(Screen.Login.route){&#10;                            popUpTo(Screen.Register.route) { inclusive = true }&#10;                        }&#10;                    },&#10;                    onRegisterSuccess = {&#10;                        // Langsung ke Home setelah sukses daftar&#10;                        navController.navigate(Screen.Home.route) {&#10;                            popUpTo(Screen.OnBoarding.route) { inclusive = true }&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            // HOME&#10;            composable(Screen.Home.route) {&#10;                HomeScreen(&#10;                    onLogout = {&#10;                        authRepository.logout()&#10;                        // Kembali ke Login dan hapus history Home&#10;                        navController.navigate(Screen.Login.route) {&#10;                            popUpTo(Screen.Home.route) { inclusive = true }&#10;                            launchSingleTop = true&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            // PESANAN&#10;            composable(Screen.Pesanan.route) {&#10;                PemesananScreen(&#10;                    onNavigateToOrderForm = { serviceType -&gt;&#10;                        navController.navigate(Screen.OrderForm.createRoute(serviceType))&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(Screen.Riwayat.route) {&#10;                HistoryScreen(&#10;                    onNavigateToHistory = { navController.navigate(Screen.Riwayat.route)},&#10;                )&#10;            }&#10;            composable(Screen.Profile.route) {&#10;                ProfileScreen(&#10;                    onNavigateToEditProfile = { navController.navigate(Screen.EditProfile.route) },&#10;                    onNavigateToPetList = { navController.navigate(Screen.PetList.route) },&#10;                    onLogout = {&#10;                        navController.navigate(Screen.Login.route) {&#10;                            popUpTo(0) { inclusive = true }&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            // Sub-Pages Profile&#10;            composable(Screen.EditProfile.route) {&#10;                EditProfileScreen(&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onNavigateToChangePassword = { navController.navigate(Screen.ChangePassword.route) }&#10;                )&#10;            }&#10;            composable(Screen.ChangePassword.route) {&#10;                ChangePasswordScreen (&#10;                    onNavigateBack = { navController.popBackStack() }&#10;                )&#10;            }&#10;&#10;            composable(Screen.PetList.route) {&#10;                PetListScreen(&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onNavigateToAddPet = { navController.navigate(Screen.AddPet.route) }&#10;                )&#10;            }&#10;&#10;            composable(Screen.AddPet.route) {&#10;                AddPetScreen(&#10;                    onNavigateBack = { navController.popBackStack() }&#10;                )&#10;            }&#10;&#10;            // Order Form&#10;            composable(&#10;                route = Screen.OrderForm.route,&#10;                arguments = listOf(&#10;                    navArgument(&quot;serviceType&quot;) { type = NavType.StringType }&#10;                ),&#10;                enterTransition = {&#10;                    slideInVertically(&#10;                        initialOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                },&#10;                exitTransition = {&#10;                    slideOutVertically(&#10;                        targetOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                }&#10;            ) { backStackEntry -&gt;&#10;                val serviceType = backStackEntry.arguments?.getString(&quot;serviceType&quot;) ?: &quot;Boarding&quot;&#10;                val savedStateHandle = backStackEntry.savedStateHandle&#10;                val selectedTier = savedStateHandle.getStateFlow&lt;String?&gt;(&quot;selected_tier&quot;, null).collectAsState().value&#10;                val selectedPets = savedStateHandle.get&lt;List&lt;Pet&gt;&gt;(&quot;selected_pets&quot;)&#10;                val selectedBranch = savedStateHandle.getStateFlow&lt;String?&gt;(&quot;selected_branch&quot;, null).collectAsState().value&#10;                val startTime = savedStateHandle.getStateFlow&lt;String?&gt;(&quot;start_time&quot;, null).collectAsState().value&#10;                val startDate = savedStateHandle.getStateFlow&lt;String?&gt;(&quot;start_date&quot;, null).collectAsState().value&#10;                val endTime = savedStateHandle.getStateFlow&lt;String?&gt;(&quot;end_time&quot;, null).collectAsState().value&#10;                val endDate = savedStateHandle.getStateFlow&lt;String?&gt;(&quot;end_date&quot;, null).collectAsState().value&#10;&#10;                OrderFormScreen(&#10;                    serviceType = serviceType,&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    selectedTierFromNav = selectedTier,&#10;                    selectedPetsFromNav = selectedPets,&#10;                    selectedBranchFromNav = selectedBranch,&#10;                    startTimeFromNav = startTime,&#10;                    startDateFromNav = startDate,&#10;                    endTimeFromNav = endTime,&#10;                    endDateFromNav = endDate,&#10;                    onNavigateToPetSelection = { sTime, sDate, eTime, eDate -&gt;&#10;                        navController.currentBackStackEntry?.savedStateHandle?.apply {&#10;                            set(&quot;start_time&quot;, sTime)&#10;                            set(&quot;start_date&quot;, sDate)&#10;                            set(&quot;end_time&quot;, eTime)&#10;                            set(&quot;end_date&quot;, eDate)&#10;                        }&#10;                        navController.navigate(Screen.PetSelection.route)&#10;                    },&#10;                    onNavigateToTierSelection = { sTime, sDate, eTime, eDate -&gt;&#10;                        navController.currentBackStackEntry?.savedStateHandle?.apply {&#10;                            set(&quot;start_time&quot;, sTime)&#10;                            set(&quot;start_date&quot;, sDate)&#10;                            set(&quot;end_time&quot;, eTime)&#10;                            set(&quot;end_date&quot;, eDate)&#10;                        }&#10;                        navController.navigate(Screen.TierSelection.route)&#10;                    },&#10;                    onNavigateToBranchSelection = { sTime, sDate, eTime, eDate -&gt;&#10;                        navController.currentBackStackEntry?.savedStateHandle?.apply {&#10;                            set(&quot;start_time&quot;, sTime)&#10;                            set(&quot;start_date&quot;, sDate)&#10;                            set(&quot;end_time&quot;, eTime)&#10;                            set(&quot;end_date&quot;, eDate)&#10;                        }&#10;                        navController.navigate(Screen.BranchSelection.route)&#10;                    },&#10;                    onSubmitOrder = { petNames, sTime, sDate, eTime, eDate, tier, branch, notes, duration, tPrice, total -&gt;&#10;                        navController.currentBackStackEntry?.savedStateHandle?.apply {&#10;                            set(&quot;payment_service_type&quot;, serviceType)&#10;                            set(&quot;payment_pet_names&quot;, petNames)&#10;                            set(&quot;payment_start_time&quot;, sTime)&#10;                            set(&quot;payment_start_date&quot;, sDate)&#10;                            set(&quot;payment_end_time&quot;, eTime)&#10;                            set(&quot;payment_end_date&quot;, eDate)&#10;                            set(&quot;payment_tier&quot;, tier)&#10;                            set(&quot;payment_branch&quot;, branch)&#10;                            set(&quot;payment_duration&quot;, duration)&#10;                            set(&quot;payment_tier_price&quot;, tPrice)&#10;                            set(&quot;payment_total_price&quot;, total)&#10;                        }&#10;                        navController.navigate(Screen.Payment.route)&#10;                    }&#10;                )&#10;            }&#10;&#10;            // Pet Selection&#10;            composable(&#10;                route = Screen.PetSelection.route,&#10;                enterTransition = {&#10;                    slideInVertically(&#10;                        initialOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                },&#10;                exitTransition = {&#10;                    slideOutVertically(&#10;                        targetOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                }&#10;            ) { backStackEntry -&gt;&#10;                val previousEntry = navController.previousBackStackEntry&#10;                val initiallySelected = previousEntry?.savedStateHandle?.get&lt;List&lt;Pet&gt;&gt;(&quot;selected_pets&quot;).orEmpty()&#10;&#10;                PetSelectionScreen(&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onNavigateToAddPet = {&#10;                        navController.navigate(Screen.AddPet.route)&#10;                    },&#10;                    onPetsSelected = { pets -&gt;&#10;                        navController.previousBackStackEntry&#10;                            ?.savedStateHandle&#10;                            ?.set(&quot;selected_pets&quot;, pets)&#10;                        navController.popBackStack()&#10;                    },&#10;                    initialSelectedPets = initiallySelected&#10;                )&#10;            }&#10;&#10;            // Tier Selection&#10;            composable(&#10;                route = Screen.TierSelection.route,&#10;                enterTransition = {&#10;                    slideInVertically(&#10;                        initialOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                },&#10;                exitTransition = {&#10;                    slideOutVertically(&#10;                        targetOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                }&#10;            ) {&#10;                TierSelectionScreen(&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onTierSelected = { tier -&gt;&#10;                        navController.previousBackStackEntry&#10;                            ?.savedStateHandle&#10;                            ?.set(&quot;selected_tier&quot;, tier)&#10;                        navController.popBackStack()&#10;                    }&#10;                )&#10;            }&#10;&#10;            // Branch Selection&#10;            composable(&#10;                route = Screen.BranchSelection.route,&#10;                enterTransition = {&#10;                    slideInVertically(&#10;                        initialOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                },&#10;                exitTransition = {&#10;                    slideOutVertically(&#10;                        targetOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                }&#10;            ) {&#10;                BranchSelectionScreen(&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onBranchSelected = { branch -&gt;&#10;                        navController.previousBackStackEntry&#10;                            ?.savedStateHandle&#10;                            ?.set(&quot;selected_branch&quot;, branch)&#10;                        navController.popBackStack()&#10;                    }&#10;                )&#10;            }&#10;&#10;            // Payment Screen&#10;            composable(&#10;                route = Screen.Payment.route,&#10;                enterTransition = {&#10;                    slideInVertically(&#10;                        initialOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                },&#10;                exitTransition = {&#10;                    slideOutVertically(&#10;                        targetOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                }&#10;            ) { backStackEntry -&gt;&#10;                val previousEntry = navController.previousBackStackEntry&#10;                val savedStateHandle = previousEntry?.savedStateHandle&#10;&#10;                val serviceType = savedStateHandle?.get&lt;String&gt;(&quot;payment_service_type&quot;) ?: &quot;Boarding&quot;&#10;                val petNames = savedStateHandle?.get&lt;String&gt;(&quot;payment_pet_names&quot;) ?: &quot;&quot;&#10;                val startTime = savedStateHandle?.get&lt;String&gt;(&quot;payment_start_time&quot;) ?: &quot;&quot;&#10;                val startDate = savedStateHandle?.get&lt;String&gt;(&quot;payment_start_date&quot;) ?: &quot;&quot;&#10;                val endTime = savedStateHandle?.get&lt;String&gt;(&quot;payment_end_time&quot;) ?: &quot;&quot;&#10;                val endDate = savedStateHandle?.get&lt;String&gt;(&quot;payment_end_date&quot;) ?: &quot;&quot;&#10;                val tier = savedStateHandle?.get&lt;String&gt;(&quot;payment_tier&quot;) ?: &quot;&quot;&#10;                val branch = savedStateHandle?.get&lt;String&gt;(&quot;payment_branch&quot;) ?: &quot;&quot;&#10;                val duration = savedStateHandle?.get&lt;Int&gt;(&quot;payment_duration&quot;) ?: 0&#10;                val tierPrice = savedStateHandle?.get&lt;Double&gt;(&quot;payment_tier_price&quot;) ?: 0.0&#10;                val totalPrice = savedStateHandle?.get&lt;Double&gt;(&quot;payment_total_price&quot;) ?: 0.0&#10;&#10;                PaymentScreen(&#10;                    serviceType = serviceType,&#10;                    petNames = petNames,&#10;                    startTime = startTime,&#10;                    startDate = startDate,&#10;                    endTime = endTime,&#10;                    endDate = endDate,&#10;                    tier = tier,&#10;                    branch = branch,&#10;                    durationHours = duration,&#10;                    tierPrice = tierPrice,&#10;                    totalPrice = totalPrice,&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onConfirmPayment = {&#10;                        // TODO: Implement payment confirmation logic&#10;                        navController.popBackStack(Screen.Home.route, inclusive = false)&#10;                    }&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/petpal/presentation/navigation/Screen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/petpal/presentation/navigation/Screen.kt" />
              <option name="originalContent" value="package com.example.petpal.presentation.navigation&#10;&#10;&#10;sealed class Screen(val route: String) {&#10;    object OnBoarding : Screen(&quot;welcome_screen&quot;)&#10;    object Login : Screen(&quot;login_screen&quot;)&#10;    object Register : Screen(&quot;register_screen&quot;)&#10;&#10;    // Bottom Nav Screens&#10;    object Home : Screen(&quot;home&quot;)&#10;    object Pesanan : Screen(&quot;pesanan&quot;)&#10;    object Riwayat : Screen(&quot;riwayat&quot;)&#10;    object Profile : Screen(&quot;profile&quot;)&#10;&#10;    // Sub-Screens&#10;    object EditProfile : Screen(&quot;edit_profile&quot;)&#10;    object ChangePassword : Screen(&quot;change_password&quot;)&#10;&#10;    object PetList : Screen(&quot;pet_list&quot;)&#10;    object AddPet : Screen(&quot;add_pet&quot;)&#10;&#10;    // Order Screens&#10;    object OrderForm : Screen(&quot;order_form/{serviceType}&quot;) {&#10;        fun createRoute(serviceType: String) = &quot;order_form/$serviceType&quot;&#10;    }&#10;    object PetSelection : Screen(&quot;pet_selection&quot;)&#10;    object TierSelection : Screen(&quot;tier_selection&quot;)&#10;    object BranchSelection : Screen(&quot;branch_selection&quot;)&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.petpal.presentation.navigation&#10;&#10;&#10;sealed class Screen(val route: String) {&#10;    object OnBoarding : Screen(&quot;welcome_screen&quot;)&#10;    object Login : Screen(&quot;login_screen&quot;)&#10;    object Register : Screen(&quot;register_screen&quot;)&#10;&#10;    // Bottom Nav Screens&#10;    object Home : Screen(&quot;home&quot;)&#10;    object Pesanan : Screen(&quot;pesanan&quot;)&#10;    object Riwayat : Screen(&quot;riwayat&quot;)&#10;    object Profile : Screen(&quot;profile&quot;)&#10;&#10;    // Sub-Screens&#10;    object EditProfile : Screen(&quot;edit_profile&quot;)&#10;    object ChangePassword : Screen(&quot;change_password&quot;)&#10;&#10;    object PetList : Screen(&quot;pet_list&quot;)&#10;    object AddPet : Screen(&quot;add_pet&quot;)&#10;&#10;    // Order Screens&#10;    object OrderForm : Screen(&quot;order_form/{serviceType}&quot;) {&#10;        fun createRoute(serviceType: String) = &quot;order_form/$serviceType&quot;&#10;    }&#10;    object PetSelection : Screen(&quot;pet_selection&quot;)&#10;    object TierSelection : Screen(&quot;tier_selection&quot;)&#10;    object BranchSelection : Screen(&quot;branch_selection&quot;)&#10;    object Payment : Screen(&quot;payment&quot;)&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/petpal/presentation/view/OrderFormScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/petpal/presentation/view/OrderFormScreen.kt" />
              <option name="originalContent" value="package com.example.petpal.presentation.view&#10;&#10;import androidx.compose.animation.core.animateFloatAsState&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material3.DatePicker&#10;import androidx.compose.material3.DatePickerDialog&#10;import androidx.compose.material3.ExperimentalMaterial3Api&#10;import androidx.compose.material3.HorizontalDivider&#10;import androidx.compose.material3.IconButton&#10;import androidx.compose.material3.TextButton&#10;import androidx.compose.material3.TimePicker&#10;import androidx.compose.material3.rememberDatePickerState&#10;import androidx.compose.material3.rememberTimePickerState&#10;import androidx.compose.material3.OutlinedTextField&#10;import androidx.compose.material3.OutlinedTextFieldDefaults&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.rotate&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import android.widget.Toast&#10;import com.example.petpal.R&#10;import com.example.petpal.data.model.Pet&#10;import com.example.petpal.presentation.component.OrderFormField&#10;import com.example.petpal.presentation.theme.BlackText&#10;import com.example.petpal.presentation.theme.GrayText&#10;import com.example.petpal.presentation.theme.PetPalDarkGreen&#10;import com.example.petpal.presentation.theme.White&#10;import java.text.NumberFormat&#10;import java.text.SimpleDateFormat&#10;import java.util.Calendar&#10;import java.util.Locale&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun OrderFormScreen(&#10;    serviceType: String,&#10;    onNavigateBack: () -&gt; Unit,&#10;    selectedTierFromNav: String? = null,&#10;    selectedPetsFromNav: List&lt;Pet&gt;? = null,&#10;    selectedBranchFromNav: String? = null,&#10;    startTimeFromNav: String? = null,&#10;    startDateFromNav: String? = null,&#10;    endTimeFromNav: String? = null,&#10;    endDateFromNav: String? = null,&#10;    onNavigateToPetSelection: (String, String, String, String) -&gt; Unit = { _, _, _, _ -&gt; },&#10;    onNavigateToTierSelection: (String, String, String, String) -&gt; Unit = { _, _, _, _ -&gt; },&#10;    onNavigateToBranchSelection: (String, String, String, String) -&gt; Unit = { _, _, _, _ -&gt; },&#10;    onSubmitOrder: () -&gt; Unit = {}&#10;) {&#10;    val context = LocalContext.current&#10;&#10;    // Get current date for Daycare service&#10;    val currentCalendar = Calendar.getInstance()&#10;    val currentDateString = SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.getDefault()).format(currentCalendar.time)&#10;&#10;    // Form state&#10;    var selectedPetNames by remember {&#10;        mutableStateOf&lt;String?&gt;(&#10;            selectedPetsFromNav?.joinToString { pet: Pet -&gt; pet.name }&#10;        )&#10;    }&#10;    var startTime by remember { mutableStateOf(startTimeFromNav ?: &quot;00:00&quot;) }&#10;    var startDate by remember { mutableStateOf(startDateFromNav ?: if (serviceType == &quot;Daycare&quot;) currentDateString else &quot;00/00/0000&quot;) }&#10;    var endTime by remember { mutableStateOf(endTimeFromNav ?: &quot;00:00&quot;) }&#10;    var endDate by remember { mutableStateOf(endDateFromNav ?: if (serviceType == &quot;Daycare&quot;) currentDateString else &quot;00/00/0000&quot;) }&#10;    var selectedTier by remember { mutableStateOf&lt;String?&gt;(selectedTierFromNav) }&#10;    var selectedBranch by remember { mutableStateOf&lt;String?&gt;(selectedBranchFromNav) }&#10;    var note by remember { mutableStateOf(&quot;&quot;) }&#10;    var isPriceExpanded by remember { mutableStateOf(false) }&#10;&#10;    // Dialog states&#10;    var showStartDatePicker by remember { mutableStateOf(false) }&#10;    var showStartTimePicker by remember { mutableStateOf(false) }&#10;    var showEndDatePicker by remember { mutableStateOf(false) }&#10;    var showEndTimePicker by remember { mutableStateOf(false) }&#10;&#10;    // Calculate total price&#10;    val tierPrices = mapOf(&#10;        &quot;Regular&quot; to 50000.0,&#10;        &quot;VIP&quot; to 75000.0,&#10;        &quot;VVIP&quot; to 100000.0&#10;    )&#10;&#10;    // Calculate duration from start and end times/dates&#10;    val durationHours = remember(startTime, startDate, endTime, endDate) {&#10;        try {&#10;            if (serviceType == &quot;Boarding&quot;) {&#10;                // For Boarding: Calculate days between dates&#10;                if (startDate != &quot;00/00/0000&quot; &amp;&amp; endDate != &quot;00/00/0000&quot;) {&#10;                    val dateFormat = SimpleDateFormat(&quot;dd/MM/yyyy HH:mm&quot;, Locale.getDefault())&#10;                    val startDateTime = dateFormat.parse(&quot;$startDate $startTime&quot;)&#10;                    val endDateTime = dateFormat.parse(&quot;$endDate $endTime&quot;)&#10;&#10;                    if (startDateTime != null &amp;&amp; endDateTime != null) {&#10;                        val diffInMillis = endDateTime.time - startDateTime.time&#10;                        val diffInHours = diffInMillis / (1000 * 60 * 60)&#10;                        maxOf(diffInHours.toInt(), 0)&#10;                    } else 0&#10;                } else 0&#10;            } else {&#10;                // For Daycare: Calculate hours between times on the same day&#10;                if (startTime != &quot;00:00&quot; &amp;&amp; endTime != &quot;00:00&quot;) {&#10;                    val timeFormat = SimpleDateFormat(&quot;HH:mm&quot;, Locale.getDefault())&#10;                    val startTimeParsed = timeFormat.parse(startTime)&#10;                    val endTimeParsed = timeFormat.parse(endTime)&#10;&#10;                    if (startTimeParsed != null &amp;&amp; endTimeParsed != null) {&#10;                        val diffInMillis = endTimeParsed.time - startTimeParsed.time&#10;                        val diffInHours = diffInMillis / (1000 * 60 * 60)&#10;                        maxOf(diffInHours.toInt(), 0)&#10;                    } else 0&#10;                } else 0&#10;            }&#10;        } catch (e: Exception) {&#10;            0&#10;        }&#10;    }&#10;&#10;    val tierPrice = selectedTier?.let { tierPrices[it] } ?: 0.0&#10;    val totalPrice = durationHours * tierPrice&#10;&#10;    // Check if form is complete&#10;    val isFormComplete = selectedPetNames != null &amp;&amp;&#10;                         startTime != &quot;00:00&quot; &amp;&amp;&#10;                         endTime != &quot;00:00&quot; &amp;&amp;&#10;                         selectedTier != null &amp;&amp;&#10;                         selectedBranch != null&#10;&#10;    val scrollState = rememberScrollState()&#10;    val iconRotation by animateFloatAsState(&#10;        targetValue = if (isPriceExpanded) 0f else 180f,&#10;        animationSpec = tween(durationMillis = 300),&#10;        label = &quot;icon rotation&quot;&#10;    )&#10;&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(White)&#10;            .windowInsetsPadding(WindowInsets.systemBars)&#10;    ) {&#10;        // Header&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(top = 8.dp, bottom = 8.dp)&#10;        ) {&#10;            IconButton(&#10;                onClick = onNavigateBack,&#10;                modifier = Modifier.align(Alignment.CenterStart)&#10;            ) {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_arrowleft_foreground),&#10;                    contentDescription = &quot;Back&quot;,&#10;                    modifier = Modifier.size(24.dp)&#10;                )&#10;            }&#10;&#10;            Text(&#10;                text = &quot;Buat Pesanan&quot;,&#10;                fontSize = 20.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = BlackText,&#10;                modifier = Modifier.align(Alignment.Center)&#10;            )&#10;        }&#10;&#10;        // Scrollable content&#10;        Column(&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .verticalScroll(scrollState)&#10;                .padding(horizontal = 24.dp)&#10;        ) {&#10;            // Pet Selection&#10;            OrderFormField(&#10;                iconRes = R.drawable.icon_petoption_foreground,&#10;                label = &quot;Hewan Peliharaan&quot;,&#10;                value = selectedPetNames ?: &quot;Pilih hewan peliharaanmu&quot;,&#10;                onClick = { onNavigateToPetSelection(startTime, startDate, endTime, endDate) },&#10;                isPlaceholder = selectedPetNames == null,&#10;                modifier = Modifier.padding(bottom = 24.dp)&#10;            )&#10;&#10;            // Duration Section&#10;            Text(&#10;                text = &quot;Durasi&quot;,&#10;                fontSize = 16.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = BlackText,&#10;                modifier = Modifier.padding(bottom = 8.dp)&#10;            )&#10;&#10;            // Start Duration&#10;            DurationField(&#10;                label = &quot;Dari :&quot;,&#10;                time = startTime,&#10;                date = startDate,&#10;                onClick = {&#10;                    if (serviceType == &quot;Boarding&quot;) {&#10;                        showStartDatePicker = true&#10;                    } else {&#10;                        showStartTimePicker = true&#10;                    }&#10;                },&#10;                modifier = Modifier.padding(bottom = 12.dp)&#10;            )&#10;&#10;            // End Duration&#10;            DurationField(&#10;                label = &quot;Sampai :&quot;,&#10;                time = endTime,&#10;                date = endDate,&#10;                onClick = {&#10;                    if (serviceType == &quot;Boarding&quot;) {&#10;                        showEndDatePicker = true&#10;                    } else {&#10;                        showEndTimePicker = true&#10;                    }&#10;                },&#10;                modifier = Modifier.padding(bottom = 24.dp)&#10;            )&#10;&#10;            // Service Tier&#10;            OrderFormField(&#10;                iconRes = R.drawable.icon_tier_foreground,&#10;                label = &quot;Tingkat Layanan&quot;,&#10;                value = selectedTier ?: &quot;Tingkat Layanan&quot;,&#10;                onClick = { onNavigateToTierSelection(startTime, startDate, endTime, endDate) },&#10;                isPlaceholder = selectedTier == null,&#10;                modifier = Modifier.padding(bottom = 24.dp)&#10;            )&#10;&#10;            // Branch&#10;            OrderFormField(&#10;                iconRes = R.drawable.icon_branch_foreground,&#10;                label = &quot;Cabang&quot;,&#10;                value = selectedBranch ?: &quot;Cabang&quot;,&#10;                onClick = { onNavigateToBranchSelection(startTime, startDate, endTime, endDate) },&#10;                isPlaceholder = selectedBranch == null,&#10;                modifier = Modifier.padding(bottom = 24.dp)&#10;            )&#10;&#10;            // Notes&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 24.dp)&#10;            ) {&#10;                Text(&#10;                    text = &quot;Catatan&quot;,&#10;                    fontSize = 16.sp,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = BlackText,&#10;                    modifier = Modifier.padding(bottom = 8.dp)&#10;                )&#10;&#10;                OutlinedTextField(&#10;                    value = note,&#10;                    onValueChange = { note = it },&#10;                    placeholder = {&#10;                        Row(&#10;                            verticalAlignment = Alignment.CenterVertically,&#10;                            horizontalArrangement = Arrangement.spacedBy(8.dp)&#10;                        ) {&#10;                            Image(&#10;                                painter = painterResource(id = R.drawable.icon_note_foreground),&#10;                                contentDescription = &quot;Note icon&quot;,&#10;                                modifier = Modifier.size(16.dp)&#10;                            )&#10;                            Text(&#10;                                text = &quot;Ketik catatanmu di sini&quot;,&#10;                                color = GrayText,&#10;                                fontSize = 14.sp&#10;                            )&#10;                        }&#10;                    },&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .height(100.dp),&#10;                    shape = RoundedCornerShape(12.dp),&#10;                    colors = OutlinedTextFieldDefaults.colors(&#10;                        unfocusedBorderColor = GrayText.copy(alpha = 0.3f),&#10;                        focusedBorderColor = PetPalDarkGreen,&#10;                        unfocusedContainerColor = GrayText.copy(alpha = 0.1f),&#10;                        focusedContainerColor = GrayText.copy(alpha = 0.1f),&#10;                        unfocusedTextColor = BlackText,&#10;                        focusedTextColor = BlackText&#10;                    )&#10;                )&#10;            }&#10;        }&#10;&#10;        // Date/Time Pickers&#10;        if (showStartDatePicker) {&#10;            DateTimePickerDialog(&#10;                onDismiss = { showStartDatePicker = false },&#10;                onDateTimeSelected = { time, date -&gt;&#10;                    startTime = time&#10;                    startDate = date&#10;                    showStartDatePicker = false&#10;                },&#10;                isStart = true,&#10;                currentStartTime = startTime,&#10;                currentStartDate = startDate,&#10;                context = context&#10;            )&#10;        }&#10;&#10;        if (showStartTimePicker) {&#10;            TimePickerDialog(&#10;                onDismiss = { showStartTimePicker = false },&#10;                onTimeSelected = { time -&gt;&#10;                    startTime = time&#10;                    showStartTimePicker = false&#10;                },&#10;                isStart = true,&#10;                currentStartTime = startTime,&#10;                context = context&#10;            )&#10;        }&#10;&#10;        if (showEndDatePicker) {&#10;            DateTimePickerDialog(&#10;                onDismiss = { showEndDatePicker = false },&#10;                onDateTimeSelected = { time, date -&gt;&#10;                    endTime = time&#10;                    endDate = date&#10;                    showEndDatePicker = false&#10;                },&#10;                isStart = false,&#10;                currentStartTime = startTime,&#10;                currentStartDate = startDate,&#10;                context = context&#10;            )&#10;        }&#10;&#10;        if (showEndTimePicker) {&#10;            TimePickerDialog(&#10;                onDismiss = { showEndTimePicker = false },&#10;                onTimeSelected = { time -&gt;&#10;                    endTime = time&#10;                    showEndTimePicker = false&#10;                },&#10;                isStart = false,&#10;                currentStartTime = startTime,&#10;                context = context&#10;            )&#10;        }&#10;&#10;        // Price Section - Sticky above button&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .background(White)&#10;                .padding(horizontal = 24.dp)&#10;        ) {&#10;            // Total Price Header (Clickable)&#10;            Row(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .clickable { isPriceExpanded = !isPriceExpanded }&#10;                    .padding(vertical = 8.dp),&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Text(&#10;                    text = &quot;Total Harga : Rp ${formatPrice(totalPrice)}&quot;,&#10;                    fontSize = 16.sp,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = BlackText,&#10;                    modifier = Modifier.weight(1f)&#10;                )&#10;&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_pricedetail_foreground),&#10;                    contentDescription = &quot;Price detail&quot;,&#10;                    modifier = Modifier&#10;                        .size(20.dp)&#10;                        .rotate(iconRotation)&#10;                )&#10;            }&#10;&#10;            // Expanded Price Details&#10;            if (isPriceExpanded) {&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(top = 12.dp)&#10;                ) {&#10;                    HorizontalDivider(&#10;                        color = GrayText.copy(alpha = 0.3f),&#10;                        modifier = Modifier.padding(bottom = 12.dp)&#10;                    )&#10;&#10;                    PriceDetailRow(&#10;                        label = &quot;Durasi&quot;,&#10;                        value = &quot;$durationHours jam&quot;&#10;                    )&#10;&#10;                    PriceDetailRow(&#10;                        label = &quot;Harga per jam&quot;,&#10;                        value = &quot;Rp ${formatPrice(tierPrice)}&quot;&#10;                    )&#10;&#10;                    HorizontalDivider(&#10;                        color = GrayText.copy(alpha = 0.3f),&#10;                        modifier = Modifier.padding(vertical = 12.dp)&#10;                    )&#10;&#10;                    PriceDetailRow(&#10;                        label = &quot;Total&quot;,&#10;                        value = &quot;Rp ${formatPrice(totalPrice)}&quot;,&#10;                        isBold = true&#10;                    )&#10;                }&#10;            }&#10;        }&#10;&#10;        // Bottom Button&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .background(White)&#10;                .padding(horizontal = 24.dp)&#10;                .padding(bottom = 24.dp, top = 8.dp)&#10;        ) {&#10;            Row(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .background(&#10;                        color = if (isFormComplete) PetPalDarkGreen else GrayText.copy(alpha = 0.5f),&#10;                        shape = RoundedCornerShape(32.dp)&#10;                    )&#10;                    .clickable(enabled = isFormComplete) {&#10;                        if (isFormComplete) onSubmitOrder()&#10;                    }&#10;                    .padding(16.dp),&#10;                horizontalArrangement = Arrangement.Center,&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_arrowright),&#10;                    contentDescription = null,&#10;                    modifier = Modifier.size(20.dp)&#10;                )&#10;&#10;                Spacer(modifier = Modifier.width(8.dp))&#10;&#10;                Text(&#10;                    text = &quot;Lakukan Pembayaran&quot;,&#10;                    fontSize = 16.sp,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = White&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun DurationField(&#10;    label: String,&#10;    time: String,&#10;    date: String,&#10;    onClick: () -&gt; Unit,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Row(&#10;        modifier = modifier&#10;            .fillMaxWidth()&#10;            .clickable(onClick = onClick)&#10;            .background(&#10;                color = GrayText.copy(alpha = 0.1f),&#10;                shape = RoundedCornerShape(12.dp)&#10;            )&#10;            .padding(16.dp),&#10;        verticalAlignment = Alignment.CenterVertically&#10;    ) {&#10;        Image(&#10;            painter = painterResource(id = R.drawable.icon_calendar_foreground),&#10;            contentDescription = &quot;Calendar&quot;,&#10;            modifier = Modifier.size(20.dp)&#10;        )&#10;&#10;        Spacer(modifier = Modifier.width(12.dp))&#10;&#10;        Text(&#10;            text = label,&#10;            fontSize = 14.sp,&#10;            color = BlackText,&#10;            fontWeight = FontWeight.Medium&#10;        )&#10;&#10;        Spacer(modifier = Modifier.width(8.dp))&#10;&#10;        Text(&#10;            text = &quot;$time, $date&quot;,&#10;            fontSize = 14.sp,&#10;            color = if (time == &quot;00:00&quot; &amp;&amp; date == &quot;00/00/0000&quot;) GrayText else BlackText&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun PriceDetailRow(&#10;    label: String,&#10;    value: String,&#10;    isBold: Boolean = false&#10;) {&#10;    Row(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .padding(vertical = 4.dp),&#10;        horizontalArrangement = Arrangement.SpaceBetween&#10;    ) {&#10;        Text(&#10;            text = label,&#10;            fontSize = 14.sp,&#10;            fontWeight = if (isBold) FontWeight.Bold else FontWeight.Normal,&#10;            color = BlackText&#10;        )&#10;&#10;        Text(&#10;            text = value,&#10;            fontSize = 14.sp,&#10;            fontWeight = if (isBold) FontWeight.Bold else FontWeight.Normal,&#10;            color = BlackText&#10;        )&#10;    }&#10;}&#10;&#10;private fun formatPrice(price: Double): String {&#10;    val formatter = NumberFormat.getInstance(Locale.forLanguageTag(&quot;id-ID&quot;))&#10;    return formatter.format(price.toLong())&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;private fun DateTimePickerDialog(&#10;    onDismiss: () -&gt; Unit,&#10;    onDateTimeSelected: (String, String) -&gt; Unit,&#10;    isStart: Boolean,&#10;    @Suppress(&quot;UNUSED_PARAMETER&quot;) currentStartTime: String,&#10;    currentStartDate: String,&#10;    context: android.content.Context&#10;) {&#10;    val calendar = Calendar.getInstance()&#10;&#10;    // Parse current start date/time if available for end date validation&#10;    if (!isStart &amp;&amp; currentStartDate != &quot;00/00/0000&quot;) {&#10;        try {&#10;            val parts = currentStartDate.split(&quot;/&quot;)&#10;            if (parts.size == 3) {&#10;                calendar.set(parts[2].toInt(), parts[1].toInt() - 1, parts[0].toInt())&#10;            }&#10;        } catch (_: Exception) {&#10;            // Keep current date&#10;        }&#10;    }&#10;&#10;    val now = Calendar.getInstance()&#10;    val todayStart = Calendar.getInstance().apply {&#10;        set(Calendar.HOUR_OF_DAY, 0)&#10;        set(Calendar.MINUTE, 0)&#10;        set(Calendar.SECOND, 0)&#10;        set(Calendar.MILLISECOND, 0)&#10;    }&#10;&#10;    val minDate = if (isStart) {&#10;        // For start date, allow today (but will validate time later)&#10;        todayStart.timeInMillis&#10;    } else {&#10;        // For end date, minimum is start date&#10;        calendar.timeInMillis&#10;    }&#10;&#10;    val datePickerState = rememberDatePickerState(&#10;        initialSelectedDateMillis = Calendar.getInstance().timeInMillis&#10;    )&#10;&#10;    var showTimePicker by remember { mutableStateOf(false) }&#10;&#10;    if (!showTimePicker) {&#10;        DatePickerDialog(&#10;            onDismissRequest = onDismiss,&#10;            confirmButton = {&#10;                TextButton(&#10;                    onClick = {&#10;                        datePickerState.selectedDateMillis?.let { millis -&gt;&#10;                            // Validate date is not before minimum&#10;                            if (millis &gt;= minDate) {&#10;                                showTimePicker = true&#10;                            } else {&#10;                                Toast.makeText(&#10;                                    context,&#10;                                    &quot;Tidak dapat memilih tanggal yang sudah lewat&quot;,&#10;                                    Toast.LENGTH_SHORT&#10;                                ).show()&#10;                            }&#10;                        }&#10;                    }&#10;                ) {&#10;                    Text(&quot;Pilih Waktu&quot;)&#10;                }&#10;            },&#10;            dismissButton = {&#10;                TextButton(onClick = onDismiss) {&#10;                    Text(&quot;Batal&quot;)&#10;                }&#10;            }&#10;        ) {&#10;            DatePicker(state = datePickerState)&#10;        }&#10;    } else {&#10;        val timePickerState = rememberTimePickerState(&#10;            initialHour = 0,&#10;            initialMinute = 0,&#10;            is24Hour = true&#10;        )&#10;&#10;        androidx.compose.material3.AlertDialog(&#10;            onDismissRequest = onDismiss,&#10;            confirmButton = {&#10;                TextButton(&#10;                    onClick = {&#10;                        datePickerState.selectedDateMillis?.let { millis -&gt;&#10;                            val selectedCalendar = Calendar.getInstance().apply {&#10;                                timeInMillis = millis&#10;                            }&#10;&#10;                            val dateString = SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.getDefault())&#10;                                .format(selectedCalendar.time)&#10;                            val timeString = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, timePickerState.hour, timePickerState.minute)&#10;&#10;                            // Validate time if same day&#10;                            val isSameDay = selectedCalendar.get(Calendar.YEAR) == now.get(Calendar.YEAR) &amp;&amp;&#10;                                    selectedCalendar.get(Calendar.DAY_OF_YEAR) == now.get(Calendar.DAY_OF_YEAR)&#10;&#10;                            if (isSameDay) {&#10;                                val selectedHour = timePickerState.hour&#10;                                val selectedMinute = timePickerState.minute&#10;                                val currentHour = now.get(Calendar.HOUR_OF_DAY)&#10;                                val currentMinute = now.get(Calendar.MINUTE)&#10;&#10;                                if (selectedHour &gt; currentHour || (selectedHour == currentHour &amp;&amp; selectedMinute &gt;= currentMinute)) {&#10;                                    onDateTimeSelected(timeString, dateString)&#10;                                } else {&#10;                                    Toast.makeText(&#10;                                        context,&#10;                                        &quot;Tidak dapat memilih waktu yang sudah lewat&quot;,&#10;                                        Toast.LENGTH_SHORT&#10;                                    ).show()&#10;                                }&#10;                            } else {&#10;                                onDateTimeSelected(timeString, dateString)&#10;                            }&#10;                        }&#10;                    }&#10;                ) {&#10;                    Text(&quot;OK&quot;)&#10;                }&#10;            },&#10;            dismissButton = {&#10;                TextButton(onClick = onDismiss) {&#10;                    Text(&quot;Batal&quot;)&#10;                }&#10;            },&#10;            text = {&#10;                Column(&#10;                    horizontalAlignment = Alignment.CenterHorizontally,&#10;                    modifier = Modifier.fillMaxWidth()&#10;                ) {&#10;                    TimePicker(state = timePickerState)&#10;                }&#10;            }&#10;        )&#10;    }&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;private fun TimePickerDialog(&#10;    onDismiss: () -&gt; Unit,&#10;    onTimeSelected: (String) -&gt; Unit,&#10;    isStart: Boolean,&#10;    currentStartTime: String,&#10;    context: android.content.Context&#10;) {&#10;    val now = Calendar.getInstance()&#10;    val currentHour = now.get(Calendar.HOUR_OF_DAY)&#10;    val currentMinute = now.get(Calendar.MINUTE)&#10;&#10;    // Parse start time for end time validation&#10;    var startHour = currentHour&#10;    var startMinute = currentMinute&#10;    if (!isStart &amp;&amp; currentStartTime != &quot;00:00&quot;) {&#10;        try {&#10;            val parts = currentStartTime.split(&quot;:&quot;)&#10;            if (parts.size == 2) {&#10;                startHour = parts[0].toInt()&#10;                startMinute = parts[1].toInt()&#10;            }&#10;        } catch (_: Exception) {&#10;            // Use current time&#10;        }&#10;    }&#10;&#10;    val minHour = if (isStart) currentHour else startHour&#10;    val minMinute = if (isStart) currentMinute else startMinute&#10;&#10;    val timePickerState = rememberTimePickerState(&#10;        initialHour = minHour,&#10;        initialMinute = minMinute,&#10;        is24Hour = true&#10;    )&#10;&#10;    androidx.compose.material3.AlertDialog(&#10;        onDismissRequest = onDismiss,&#10;        confirmButton = {&#10;            TextButton(&#10;                onClick = {&#10;                    val selectedHour = timePickerState.hour&#10;                    val selectedMinute = timePickerState.minute&#10;&#10;                    // Validate time&#10;                    val isValid = if (isStart) {&#10;                        selectedHour &gt; minHour || (selectedHour == minHour &amp;&amp; selectedMinute &gt;= minMinute)&#10;                    } else {&#10;                        selectedHour &gt; minHour || (selectedHour == minHour &amp;&amp; selectedMinute &gt; minMinute)&#10;                    }&#10;&#10;                    if (isValid) {&#10;                        val timeString = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, selectedHour, selectedMinute)&#10;                        onTimeSelected(timeString)&#10;                    } else {&#10;                        val message = if (isStart) {&#10;                            &quot;Tidak dapat memilih waktu yang sudah lewat&quot;&#10;                        } else {&#10;                            &quot;Waktu akhir harus lebih dari waktu mulai&quot;&#10;                        }&#10;                        Toast.makeText(context, message, Toast.LENGTH_SHORT).show()&#10;                    }&#10;                }&#10;            ) {&#10;                Text(&quot;OK&quot;)&#10;            }&#10;        },&#10;        dismissButton = {&#10;            TextButton(onClick = onDismiss) {&#10;                Text(&quot;Batal&quot;)&#10;            }&#10;        },&#10;        text = {&#10;            Column(&#10;                horizontalAlignment = Alignment.CenterHorizontally,&#10;                modifier = Modifier.fillMaxWidth()&#10;            ) {&#10;                TimePicker(state = timePickerState)&#10;            }&#10;        }&#10;    )&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.petpal.presentation.view&#10;&#10;import androidx.compose.animation.core.animateFloatAsState&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material3.DatePicker&#10;import androidx.compose.material3.DatePickerDialog&#10;import androidx.compose.material3.ExperimentalMaterial3Api&#10;import androidx.compose.material3.HorizontalDivider&#10;import androidx.compose.material3.IconButton&#10;import androidx.compose.material3.TextButton&#10;import androidx.compose.material3.TimePicker&#10;import androidx.compose.material3.rememberDatePickerState&#10;import androidx.compose.material3.rememberTimePickerState&#10;import androidx.compose.material3.OutlinedTextField&#10;import androidx.compose.material3.OutlinedTextFieldDefaults&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.rotate&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import android.widget.Toast&#10;import com.example.petpal.R&#10;import com.example.petpal.data.model.Pet&#10;import com.example.petpal.presentation.component.OrderFormField&#10;import com.example.petpal.presentation.theme.BlackText&#10;import com.example.petpal.presentation.theme.GrayText&#10;import com.example.petpal.presentation.theme.PetPalDarkGreen&#10;import com.example.petpal.presentation.theme.White&#10;import java.text.NumberFormat&#10;import java.text.SimpleDateFormat&#10;import java.util.Calendar&#10;import java.util.Locale&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun OrderFormScreen(&#10;    serviceType: String,&#10;    onNavigateBack: () -&gt; Unit,&#10;    selectedTierFromNav: String? = null,&#10;    selectedPetsFromNav: List&lt;Pet&gt;? = null,&#10;    selectedBranchFromNav: String? = null,&#10;    startTimeFromNav: String? = null,&#10;    startDateFromNav: String? = null,&#10;    endTimeFromNav: String? = null,&#10;    endDateFromNav: String? = null,&#10;    onNavigateToPetSelection: (String, String, String, String) -&gt; Unit = { _, _, _, _ -&gt; },&#10;    onNavigateToTierSelection: (String, String, String, String) -&gt; Unit = { _, _, _, _ -&gt; },&#10;    onNavigateToBranchSelection: (String, String, String, String) -&gt; Unit = { _, _, _, _ -&gt; },&#10;    onSubmitOrder: (String, String, String, String, String, String, String, String, Int, Double, Double) -&gt; Unit = { _, _, _, _, _, _, _, _, _, _, _ -&gt; }&#10;) {&#10;    val context = LocalContext.current&#10;&#10;    // Get current date for Daycare service&#10;    val currentCalendar = Calendar.getInstance()&#10;    val currentDateString = SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.getDefault()).format(currentCalendar.time)&#10;&#10;    // Form state&#10;    var selectedPetNames by remember {&#10;        mutableStateOf&lt;String?&gt;(&#10;            selectedPetsFromNav?.joinToString { pet: Pet -&gt; pet.name }&#10;        )&#10;    }&#10;    var startTime by remember { mutableStateOf(startTimeFromNav ?: &quot;00:00&quot;) }&#10;    var startDate by remember { mutableStateOf(startDateFromNav ?: if (serviceType == &quot;Daycare&quot;) currentDateString else &quot;00/00/0000&quot;) }&#10;    var endTime by remember { mutableStateOf(endTimeFromNav ?: &quot;00:00&quot;) }&#10;    var endDate by remember { mutableStateOf(endDateFromNav ?: if (serviceType == &quot;Daycare&quot;) currentDateString else &quot;00/00/0000&quot;) }&#10;    var selectedTier by remember { mutableStateOf&lt;String?&gt;(selectedTierFromNav) }&#10;    var selectedBranch by remember { mutableStateOf&lt;String?&gt;(selectedBranchFromNav) }&#10;    var note by remember { mutableStateOf(&quot;&quot;) }&#10;    var isPriceExpanded by remember { mutableStateOf(false) }&#10;&#10;    // Dialog states&#10;    var showStartDatePicker by remember { mutableStateOf(false) }&#10;    var showStartTimePicker by remember { mutableStateOf(false) }&#10;    var showEndDatePicker by remember { mutableStateOf(false) }&#10;    var showEndTimePicker by remember { mutableStateOf(false) }&#10;&#10;    // Calculate total price&#10;    val tierPrices = mapOf(&#10;        &quot;Regular&quot; to 50000.0,&#10;        &quot;VIP&quot; to 75000.0,&#10;        &quot;VVIP&quot; to 100000.0&#10;    )&#10;&#10;    // Calculate duration from start and end times/dates&#10;    val durationHours = remember(startTime, startDate, endTime, endDate) {&#10;        try {&#10;            if (serviceType == &quot;Boarding&quot;) {&#10;                // For Boarding: Calculate days between dates&#10;                if (startDate != &quot;00/00/0000&quot; &amp;&amp; endDate != &quot;00/00/0000&quot;) {&#10;                    val dateFormat = SimpleDateFormat(&quot;dd/MM/yyyy HH:mm&quot;, Locale.getDefault())&#10;                    val startDateTime = dateFormat.parse(&quot;$startDate $startTime&quot;)&#10;                    val endDateTime = dateFormat.parse(&quot;$endDate $endTime&quot;)&#10;&#10;                    if (startDateTime != null &amp;&amp; endDateTime != null) {&#10;                        val diffInMillis = endDateTime.time - startDateTime.time&#10;                        val diffInHours = diffInMillis / (1000 * 60 * 60)&#10;                        maxOf(diffInHours.toInt(), 0)&#10;                    } else 0&#10;                } else 0&#10;            } else {&#10;                // For Daycare: Calculate hours between times on the same day&#10;                if (startTime != &quot;00:00&quot; &amp;&amp; endTime != &quot;00:00&quot;) {&#10;                    val timeFormat = SimpleDateFormat(&quot;HH:mm&quot;, Locale.getDefault())&#10;                    val startTimeParsed = timeFormat.parse(startTime)&#10;                    val endTimeParsed = timeFormat.parse(endTime)&#10;&#10;                    if (startTimeParsed != null &amp;&amp; endTimeParsed != null) {&#10;                        val diffInMillis = endTimeParsed.time - startTimeParsed.time&#10;                        val diffInHours = diffInMillis / (1000 * 60 * 60)&#10;                        maxOf(diffInHours.toInt(), 0)&#10;                    } else 0&#10;                } else 0&#10;            }&#10;        } catch (e: Exception) {&#10;            0&#10;        }&#10;    }&#10;&#10;    val tierPrice = selectedTier?.let { tierPrices[it] } ?: 0.0&#10;    val totalPrice = durationHours * tierPrice&#10;&#10;    // Check if form is complete&#10;    val isFormComplete = selectedPetNames != null &amp;&amp;&#10;                         startTime != &quot;00:00&quot; &amp;&amp;&#10;                         endTime != &quot;00:00&quot; &amp;&amp;&#10;                         selectedTier != null &amp;&amp;&#10;                         selectedBranch != null&#10;&#10;    val scrollState = rememberScrollState()&#10;    val iconRotation by animateFloatAsState(&#10;        targetValue = if (isPriceExpanded) 0f else 180f,&#10;        animationSpec = tween(durationMillis = 300),&#10;        label = &quot;icon rotation&quot;&#10;    )&#10;&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(White)&#10;            .windowInsetsPadding(WindowInsets.systemBars)&#10;    ) {&#10;        // Header&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(top = 8.dp, bottom = 8.dp)&#10;        ) {&#10;            IconButton(&#10;                onClick = onNavigateBack,&#10;                modifier = Modifier.align(Alignment.CenterStart)&#10;            ) {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_arrowleft_foreground),&#10;                    contentDescription = &quot;Back&quot;,&#10;                    modifier = Modifier.size(24.dp)&#10;                )&#10;            }&#10;&#10;            Text(&#10;                text = &quot;Buat Pesanan&quot;,&#10;                fontSize = 20.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = BlackText,&#10;                modifier = Modifier.align(Alignment.Center)&#10;            )&#10;        }&#10;&#10;        // Scrollable content&#10;        Column(&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .verticalScroll(scrollState)&#10;                .padding(horizontal = 24.dp)&#10;        ) {&#10;            // Pet Selection&#10;            OrderFormField(&#10;                iconRes = R.drawable.icon_petoption_foreground,&#10;                label = &quot;Hewan Peliharaan&quot;,&#10;                value = selectedPetNames ?: &quot;Pilih hewan peliharaanmu&quot;,&#10;                onClick = { onNavigateToPetSelection(startTime, startDate, endTime, endDate) },&#10;                isPlaceholder = selectedPetNames == null,&#10;                modifier = Modifier.padding(bottom = 24.dp)&#10;            )&#10;&#10;            // Duration Section&#10;            Text(&#10;                text = &quot;Durasi&quot;,&#10;                fontSize = 16.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = BlackText,&#10;                modifier = Modifier.padding(bottom = 8.dp)&#10;            )&#10;&#10;            // Start Duration&#10;            DurationField(&#10;                label = &quot;Dari :&quot;,&#10;                time = startTime,&#10;                date = startDate,&#10;                onClick = {&#10;                    if (serviceType == &quot;Boarding&quot;) {&#10;                        showStartDatePicker = true&#10;                    } else {&#10;                        showStartTimePicker = true&#10;                    }&#10;                },&#10;                modifier = Modifier.padding(bottom = 12.dp)&#10;            )&#10;&#10;            // End Duration&#10;            DurationField(&#10;                label = &quot;Sampai :&quot;,&#10;                time = endTime,&#10;                date = endDate,&#10;                onClick = {&#10;                    if (serviceType == &quot;Boarding&quot;) {&#10;                        showEndDatePicker = true&#10;                    } else {&#10;                        showEndTimePicker = true&#10;                    }&#10;                },&#10;                modifier = Modifier.padding(bottom = 24.dp)&#10;            )&#10;&#10;            // Service Tier&#10;            OrderFormField(&#10;                iconRes = R.drawable.icon_tier_foreground,&#10;                label = &quot;Tingkat Layanan&quot;,&#10;                value = selectedTier ?: &quot;Tingkat Layanan&quot;,&#10;                onClick = { onNavigateToTierSelection(startTime, startDate, endTime, endDate) },&#10;                isPlaceholder = selectedTier == null,&#10;                modifier = Modifier.padding(bottom = 24.dp)&#10;            )&#10;&#10;            // Branch&#10;            OrderFormField(&#10;                iconRes = R.drawable.icon_branch_foreground,&#10;                label = &quot;Cabang&quot;,&#10;                value = selectedBranch ?: &quot;Cabang&quot;,&#10;                onClick = { onNavigateToBranchSelection(startTime, startDate, endTime, endDate) },&#10;                isPlaceholder = selectedBranch == null,&#10;                modifier = Modifier.padding(bottom = 24.dp)&#10;            )&#10;&#10;            // Notes&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 24.dp)&#10;            ) {&#10;                Text(&#10;                    text = &quot;Catatan&quot;,&#10;                    fontSize = 16.sp,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = BlackText,&#10;                    modifier = Modifier.padding(bottom = 8.dp)&#10;                )&#10;&#10;                OutlinedTextField(&#10;                    value = note,&#10;                    onValueChange = { note = it },&#10;                    placeholder = {&#10;                        Row(&#10;                            verticalAlignment = Alignment.CenterVertically,&#10;                            horizontalArrangement = Arrangement.spacedBy(8.dp)&#10;                        ) {&#10;                            Image(&#10;                                painter = painterResource(id = R.drawable.icon_note_foreground),&#10;                                contentDescription = &quot;Note icon&quot;,&#10;                                modifier = Modifier.size(16.dp)&#10;                            )&#10;                            Text(&#10;                                text = &quot;Ketik catatanmu di sini&quot;,&#10;                                color = GrayText,&#10;                                fontSize = 14.sp&#10;                            )&#10;                        }&#10;                    },&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .height(100.dp),&#10;                    shape = RoundedCornerShape(12.dp),&#10;                    colors = OutlinedTextFieldDefaults.colors(&#10;                        unfocusedBorderColor = GrayText.copy(alpha = 0.3f),&#10;                        focusedBorderColor = PetPalDarkGreen,&#10;                        unfocusedContainerColor = GrayText.copy(alpha = 0.1f),&#10;                        focusedContainerColor = GrayText.copy(alpha = 0.1f),&#10;                        unfocusedTextColor = BlackText,&#10;                        focusedTextColor = BlackText&#10;                    )&#10;                )&#10;            }&#10;        }&#10;&#10;        // Date/Time Pickers&#10;        if (showStartDatePicker) {&#10;            DateTimePickerDialog(&#10;                onDismiss = { showStartDatePicker = false },&#10;                onDateTimeSelected = { time, date -&gt;&#10;                    startTime = time&#10;                    startDate = date&#10;                    showStartDatePicker = false&#10;                },&#10;                isStart = true,&#10;                currentStartTime = startTime,&#10;                currentStartDate = startDate,&#10;                context = context&#10;            )&#10;        }&#10;&#10;        if (showStartTimePicker) {&#10;            TimePickerDialog(&#10;                onDismiss = { showStartTimePicker = false },&#10;                onTimeSelected = { time -&gt;&#10;                    startTime = time&#10;                    showStartTimePicker = false&#10;                },&#10;                isStart = true,&#10;                currentStartTime = startTime,&#10;                context = context&#10;            )&#10;        }&#10;&#10;        if (showEndDatePicker) {&#10;            DateTimePickerDialog(&#10;                onDismiss = { showEndDatePicker = false },&#10;                onDateTimeSelected = { time, date -&gt;&#10;                    endTime = time&#10;                    endDate = date&#10;                    showEndDatePicker = false&#10;                },&#10;                isStart = false,&#10;                currentStartTime = startTime,&#10;                currentStartDate = startDate,&#10;                context = context&#10;            )&#10;        }&#10;&#10;        if (showEndTimePicker) {&#10;            TimePickerDialog(&#10;                onDismiss = { showEndTimePicker = false },&#10;                onTimeSelected = { time -&gt;&#10;                    endTime = time&#10;                    showEndTimePicker = false&#10;                },&#10;                isStart = false,&#10;                currentStartTime = startTime,&#10;                context = context&#10;            )&#10;        }&#10;&#10;        // Price Section - Sticky above button&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .background(White)&#10;                .padding(horizontal = 24.dp)&#10;        ) {&#10;            // Total Price Header (Clickable)&#10;            Row(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .clickable { isPriceExpanded = !isPriceExpanded }&#10;                    .padding(vertical = 8.dp),&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Text(&#10;                    text = &quot;Total Harga : Rp ${formatPrice(totalPrice)}&quot;,&#10;                    fontSize = 16.sp,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = BlackText,&#10;                    modifier = Modifier.weight(1f)&#10;                )&#10;&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_pricedetail_foreground),&#10;                    contentDescription = &quot;Price detail&quot;,&#10;                    modifier = Modifier&#10;                        .size(20.dp)&#10;                        .rotate(iconRotation)&#10;                )&#10;            }&#10;&#10;            // Expanded Price Details&#10;            if (isPriceExpanded) {&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(top = 12.dp)&#10;                ) {&#10;                    HorizontalDivider(&#10;                        color = GrayText.copy(alpha = 0.3f),&#10;                        modifier = Modifier.padding(bottom = 12.dp)&#10;                    )&#10;&#10;                    PriceDetailRow(&#10;                        label = &quot;Durasi&quot;,&#10;                        value = &quot;$durationHours jam&quot;&#10;                    )&#10;&#10;                    PriceDetailRow(&#10;                        label = &quot;Harga per jam&quot;,&#10;                        value = &quot;Rp ${formatPrice(tierPrice)}&quot;&#10;                    )&#10;&#10;                    HorizontalDivider(&#10;                        color = GrayText.copy(alpha = 0.3f),&#10;                        modifier = Modifier.padding(vertical = 12.dp)&#10;                    )&#10;&#10;                    PriceDetailRow(&#10;                        label = &quot;Total&quot;,&#10;                        value = &quot;Rp ${formatPrice(totalPrice)}&quot;,&#10;                        isBold = true&#10;                    )&#10;                }&#10;            }&#10;        }&#10;&#10;        // Bottom Button&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .background(White)&#10;                .padding(horizontal = 24.dp)&#10;                .padding(bottom = 24.dp, top = 8.dp)&#10;        ) {&#10;            Row(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .background(&#10;                        color = if (isFormComplete) PetPalDarkGreen else GrayText.copy(alpha = 0.5f),&#10;                        shape = RoundedCornerShape(32.dp)&#10;                    )&#10;                    .clickable(enabled = isFormComplete) {&#10;                        if (isFormComplete) {&#10;                            onSubmitOrder(&#10;                                selectedPetNames ?: &quot;&quot;,&#10;                                startTime,&#10;                                startDate,&#10;                                endTime,&#10;                                endDate,&#10;                                selectedTier ?: &quot;&quot;,&#10;                                selectedBranch ?: &quot;&quot;,&#10;                                note,&#10;                                durationHours,&#10;                                tierPrice,&#10;                                totalPrice&#10;                            )&#10;                        }&#10;                    }&#10;                    .padding(16.dp),&#10;                horizontalArrangement = Arrangement.Center,&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_arrowright),&#10;                    contentDescription = null,&#10;                    modifier = Modifier.size(20.dp)&#10;                )&#10;&#10;                Spacer(modifier = Modifier.width(8.dp))&#10;&#10;                Text(&#10;                    text = &quot;Lakukan Pembayaran&quot;,&#10;                    fontSize = 16.sp,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = White&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun DurationField(&#10;    label: String,&#10;    time: String,&#10;    date: String,&#10;    onClick: () -&gt; Unit,&#10;    modifier: Modifier = Modifier&#10;) {&#10;    Row(&#10;        modifier = modifier&#10;            .fillMaxWidth()&#10;            .clickable(onClick = onClick)&#10;            .background(&#10;                color = GrayText.copy(alpha = 0.1f),&#10;                shape = RoundedCornerShape(12.dp)&#10;            )&#10;            .padding(16.dp),&#10;        verticalAlignment = Alignment.CenterVertically&#10;    ) {&#10;        Image(&#10;            painter = painterResource(id = R.drawable.icon_calendar_foreground),&#10;            contentDescription = &quot;Calendar&quot;,&#10;            modifier = Modifier.size(20.dp)&#10;        )&#10;&#10;        Spacer(modifier = Modifier.width(12.dp))&#10;&#10;        Text(&#10;            text = label,&#10;            fontSize = 14.sp,&#10;            color = BlackText,&#10;            fontWeight = FontWeight.Medium&#10;        )&#10;&#10;        Spacer(modifier = Modifier.width(8.dp))&#10;&#10;        Text(&#10;            text = &quot;$time, $date&quot;,&#10;            fontSize = 14.sp,&#10;            color = if (time == &quot;00:00&quot; &amp;&amp; date == &quot;00/00/0000&quot;) GrayText else BlackText&#10;        )&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun PriceDetailRow(&#10;    label: String,&#10;    value: String,&#10;    isBold: Boolean = false&#10;) {&#10;    Row(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .padding(vertical = 4.dp),&#10;        horizontalArrangement = Arrangement.SpaceBetween&#10;    ) {&#10;        Text(&#10;            text = label,&#10;            fontSize = 14.sp,&#10;            fontWeight = if (isBold) FontWeight.Bold else FontWeight.Normal,&#10;            color = BlackText&#10;        )&#10;&#10;        Text(&#10;            text = value,&#10;            fontSize = 14.sp,&#10;            fontWeight = if (isBold) FontWeight.Bold else FontWeight.Normal,&#10;            color = BlackText&#10;        )&#10;    }&#10;}&#10;&#10;private fun formatPrice(price: Double): String {&#10;    val formatter = NumberFormat.getInstance(Locale.forLanguageTag(&quot;id-ID&quot;))&#10;    return formatter.format(price.toLong())&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;private fun DateTimePickerDialog(&#10;    onDismiss: () -&gt; Unit,&#10;    onDateTimeSelected: (String, String) -&gt; Unit,&#10;    isStart: Boolean,&#10;    @Suppress(&quot;UNUSED_PARAMETER&quot;) currentStartTime: String,&#10;    currentStartDate: String,&#10;    context: android.content.Context&#10;) {&#10;    val calendar = Calendar.getInstance()&#10;&#10;    // Parse current start date/time if available for end date validation&#10;    if (!isStart &amp;&amp; currentStartDate != &quot;00/00/0000&quot;) {&#10;        try {&#10;            val parts = currentStartDate.split(&quot;/&quot;)&#10;            if (parts.size == 3) {&#10;                calendar.set(parts[2].toInt(), parts[1].toInt() - 1, parts[0].toInt())&#10;            }&#10;        } catch (_: Exception) {&#10;            // Keep current date&#10;        }&#10;    }&#10;&#10;    val now = Calendar.getInstance()&#10;    val todayStart = Calendar.getInstance().apply {&#10;        set(Calendar.HOUR_OF_DAY, 0)&#10;        set(Calendar.MINUTE, 0)&#10;        set(Calendar.SECOND, 0)&#10;        set(Calendar.MILLISECOND, 0)&#10;    }&#10;&#10;    val minDate = if (isStart) {&#10;        // For start date, allow today (but will validate time later)&#10;        todayStart.timeInMillis&#10;    } else {&#10;        // For end date, minimum is start date&#10;        calendar.timeInMillis&#10;    }&#10;&#10;    val datePickerState = rememberDatePickerState(&#10;        initialSelectedDateMillis = Calendar.getInstance().timeInMillis&#10;    )&#10;&#10;    var showTimePicker by remember { mutableStateOf(false) }&#10;&#10;    if (!showTimePicker) {&#10;        DatePickerDialog(&#10;            onDismissRequest = onDismiss,&#10;            confirmButton = {&#10;                TextButton(&#10;                    onClick = {&#10;                        datePickerState.selectedDateMillis?.let { millis -&gt;&#10;                            // Validate date is not before minimum&#10;                            if (millis &gt;= minDate) {&#10;                                showTimePicker = true&#10;                            } else {&#10;                                Toast.makeText(&#10;                                    context,&#10;                                    &quot;Tidak dapat memilih tanggal yang sudah lewat&quot;,&#10;                                    Toast.LENGTH_SHORT&#10;                                ).show()&#10;                            }&#10;                        }&#10;                    }&#10;                ) {&#10;                    Text(&quot;Pilih Waktu&quot;)&#10;                }&#10;            },&#10;            dismissButton = {&#10;                TextButton(onClick = onDismiss) {&#10;                    Text(&quot;Batal&quot;)&#10;                }&#10;            }&#10;        ) {&#10;            DatePicker(state = datePickerState)&#10;        }&#10;    } else {&#10;        val timePickerState = rememberTimePickerState(&#10;            initialHour = 0,&#10;            initialMinute = 0,&#10;            is24Hour = true&#10;        )&#10;&#10;        androidx.compose.material3.AlertDialog(&#10;            onDismissRequest = onDismiss,&#10;            confirmButton = {&#10;                TextButton(&#10;                    onClick = {&#10;                        datePickerState.selectedDateMillis?.let { millis -&gt;&#10;                            val selectedCalendar = Calendar.getInstance().apply {&#10;                                timeInMillis = millis&#10;                            }&#10;&#10;                            val dateString = SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.getDefault())&#10;                                .format(selectedCalendar.time)&#10;                            val timeString = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, timePickerState.hour, timePickerState.minute)&#10;&#10;                            // Validate time if same day&#10;                            val isSameDay = selectedCalendar.get(Calendar.YEAR) == now.get(Calendar.YEAR) &amp;&amp;&#10;                                    selectedCalendar.get(Calendar.DAY_OF_YEAR) == now.get(Calendar.DAY_OF_YEAR)&#10;&#10;                            if (isSameDay) {&#10;                                val selectedHour = timePickerState.hour&#10;                                val selectedMinute = timePickerState.minute&#10;                                val currentHour = now.get(Calendar.HOUR_OF_DAY)&#10;                                val currentMinute = now.get(Calendar.MINUTE)&#10;&#10;                                if (selectedHour &gt; currentHour || (selectedHour == currentHour &amp;&amp; selectedMinute &gt;= currentMinute)) {&#10;                                    onDateTimeSelected(timeString, dateString)&#10;                                } else {&#10;                                    Toast.makeText(&#10;                                        context,&#10;                                        &quot;Tidak dapat memilih waktu yang sudah lewat&quot;,&#10;                                        Toast.LENGTH_SHORT&#10;                                    ).show()&#10;                                }&#10;                            } else {&#10;                                onDateTimeSelected(timeString, dateString)&#10;                            }&#10;                        }&#10;                    }&#10;                ) {&#10;                    Text(&quot;OK&quot;)&#10;                }&#10;            },&#10;            dismissButton = {&#10;                TextButton(onClick = onDismiss) {&#10;                    Text(&quot;Batal&quot;)&#10;                }&#10;            },&#10;            text = {&#10;                Column(&#10;                    horizontalAlignment = Alignment.CenterHorizontally,&#10;                    modifier = Modifier.fillMaxWidth()&#10;                ) {&#10;                    TimePicker(state = timePickerState)&#10;                }&#10;            }&#10;        )&#10;    }&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;private fun TimePickerDialog(&#10;    onDismiss: () -&gt; Unit,&#10;    onTimeSelected: (String) -&gt; Unit,&#10;    isStart: Boolean,&#10;    currentStartTime: String,&#10;    context: android.content.Context&#10;) {&#10;    val now = Calendar.getInstance()&#10;    val currentHour = now.get(Calendar.HOUR_OF_DAY)&#10;    val currentMinute = now.get(Calendar.MINUTE)&#10;&#10;    // Parse start time for end time validation&#10;    var startHour = currentHour&#10;    var startMinute = currentMinute&#10;    if (!isStart &amp;&amp; currentStartTime != &quot;00:00&quot;) {&#10;        try {&#10;            val parts = currentStartTime.split(&quot;:&quot;)&#10;            if (parts.size == 2) {&#10;                startHour = parts[0].toInt()&#10;                startMinute = parts[1].toInt()&#10;            }&#10;        } catch (_: Exception) {&#10;            // Use current time&#10;        }&#10;    }&#10;&#10;    val minHour = if (isStart) currentHour else startHour&#10;    val minMinute = if (isStart) currentMinute else startMinute&#10;&#10;    val timePickerState = rememberTimePickerState(&#10;        initialHour = minHour,&#10;        initialMinute = minMinute,&#10;        is24Hour = true&#10;    )&#10;&#10;    androidx.compose.material3.AlertDialog(&#10;        onDismissRequest = onDismiss,&#10;        confirmButton = {&#10;            TextButton(&#10;                onClick = {&#10;                    val selectedHour = timePickerState.hour&#10;                    val selectedMinute = timePickerState.minute&#10;&#10;                    // Validate time&#10;                    val isValid = if (isStart) {&#10;                        selectedHour &gt; minHour || (selectedHour == minHour &amp;&amp; selectedMinute &gt;= minMinute)&#10;                    } else {&#10;                        selectedHour &gt; minHour || (selectedHour == minHour &amp;&amp; selectedMinute &gt; minMinute)&#10;                    }&#10;&#10;                    if (isValid) {&#10;                        val timeString = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, selectedHour, selectedMinute)&#10;                        onTimeSelected(timeString)&#10;                    } else {&#10;                        val message = if (isStart) {&#10;                            &quot;Tidak dapat memilih waktu yang sudah lewat&quot;&#10;                        } else {&#10;                            &quot;Waktu akhir harus lebih dari waktu mulai&quot;&#10;                        }&#10;                        Toast.makeText(context, message, Toast.LENGTH_SHORT).show()&#10;                    }&#10;                }&#10;            ) {&#10;                Text(&quot;OK&quot;)&#10;            }&#10;        },&#10;        dismissButton = {&#10;            TextButton(onClick = onDismiss) {&#10;                Text(&quot;Batal&quot;)&#10;            }&#10;        },&#10;        text = {&#10;            Column(&#10;                horizontalAlignment = Alignment.CenterHorizontally,&#10;                modifier = Modifier.fillMaxWidth()&#10;            ) {&#10;                TimePicker(state = timePickerState)&#10;            }&#10;        }&#10;    )&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/petpal/presentation/view/PaymentScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/petpal/presentation/view/PaymentScreen.kt" />
              <option name="updatedContent" value="package com.example.petpal.presentation.view&#10;&#10;import androidx.compose.animation.core.animateFloatAsState&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.automirrored.filled.ArrowForward&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.clip&#10;import androidx.compose.ui.draw.rotate&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import coil.compose.AsyncImage&#10;import com.example.petpal.R&#10;import com.example.petpal.presentation.theme.BlackText&#10;import com.example.petpal.presentation.theme.GrayText&#10;import com.example.petpal.presentation.theme.PetPalDarkGreen&#10;import com.example.petpal.presentation.theme.White&#10;import java.text.NumberFormat&#10;import java.util.Locale&#10;&#10;@Composable&#10;fun PaymentScreen(&#10;    serviceType: String,&#10;    petNames: String,&#10;    petImageUrl: String? = null,&#10;    startTime: String,&#10;    startDate: String,&#10;    endTime: String,&#10;    endDate: String,&#10;    tier: String,&#10;    branch: String,&#10;    durationHours: Int,&#10;    tierPrice: Double,&#10;    totalPrice: Double,&#10;    onNavigateBack: () -&gt; Unit,&#10;    onConfirmPayment: () -&gt; Unit&#10;) {&#10;    var isPriceExpanded by remember { mutableStateOf(false) }&#10;    val scrollState = rememberScrollState()&#10;    val iconRotation by animateFloatAsState(&#10;        targetValue = if (isPriceExpanded) 0f else 180f,&#10;        animationSpec = tween(durationMillis = 300),&#10;        label = &quot;icon rotation&quot;&#10;    )&#10;&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(White)&#10;            .windowInsetsPadding(WindowInsets.systemBars)&#10;    ) {&#10;        // Header&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(top = 8.dp, bottom = 8.dp)&#10;        ) {&#10;            IconButton(&#10;                onClick = onNavigateBack,&#10;                modifier = Modifier.align(Alignment.CenterStart)&#10;            ) {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_arrowleft_foreground),&#10;                    contentDescription = &quot;Back&quot;,&#10;                    modifier = Modifier.size(24.dp)&#10;                )&#10;            }&#10;&#10;            Text(&#10;                text = &quot;Pembayaran&quot;,&#10;                fontSize = 20.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = BlackText,&#10;                modifier = Modifier.align(Alignment.Center)&#10;            )&#10;        }&#10;&#10;        // Scrollable content&#10;        Column(&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .verticalScroll(scrollState)&#10;                .padding(horizontal = 24.dp)&#10;        ) {&#10;            // Order Card Section&#10;            Text(&#10;                text = &quot;Pesanan&quot;,&#10;                fontSize = 16.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = BlackText,&#10;                modifier = Modifier.padding(bottom = 12.dp, top = 16.dp)&#10;            )&#10;&#10;            OrderCard(&#10;                serviceType = serviceType,&#10;                petNames = petNames,&#10;                petImageUrl = petImageUrl,&#10;                startTime = startTime,&#10;                startDate = startDate,&#10;                endTime = endTime,&#10;                endDate = endDate,&#10;                tier = tier,&#10;                branch = branch&#10;            )&#10;&#10;            // Payment Method Section&#10;            Text(&#10;                text = &quot;Metode Pembayaran&quot;,&#10;                fontSize = 16.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = BlackText,&#10;                modifier = Modifier.padding(bottom = 12.dp, top = 24.dp)&#10;            )&#10;&#10;            PaymentMethodSelector()&#10;&#10;            // Price Detail Section (Expandable)&#10;            Text(&#10;                text = &quot;Rincian Harga&quot;,&#10;                fontSize = 16.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = BlackText,&#10;                modifier = Modifier.padding(bottom = 12.dp, top = 24.dp)&#10;            )&#10;&#10;            // Total Price Header (Clickable)&#10;            Surface(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .clickable { isPriceExpanded = !isPriceExpanded },&#10;                shape = RoundedCornerShape(12.dp),&#10;                color = GrayText.copy(alpha = 0.1f)&#10;            ) {&#10;                Row(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(16.dp),&#10;                    verticalAlignment = Alignment.CenterVertically&#10;                ) {&#10;                    Text(&#10;                        text = &quot;Total Harga : Rp ${formatPrice(totalPrice)}&quot;,&#10;                        fontSize = 16.sp,&#10;                        fontWeight = FontWeight.Bold,&#10;                        color = BlackText,&#10;                        modifier = Modifier.weight(1f)&#10;                    )&#10;&#10;                    Image(&#10;                        painter = painterResource(id = R.drawable.icon_pricedetail_foreground),&#10;                        contentDescription = &quot;Price detail&quot;,&#10;                        modifier = Modifier&#10;                            .size(20.dp)&#10;                            .rotate(iconRotation)&#10;                    )&#10;                }&#10;            }&#10;&#10;            // Expanded Price Details&#10;            if (isPriceExpanded) {&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(top = 12.dp)&#10;                ) {&#10;                    PriceDetailRow(&#10;                        label = &quot;Durasi&quot;,&#10;                        value = &quot;$durationHours jam&quot;&#10;                    )&#10;&#10;                    Spacer(modifier = Modifier.height(8.dp))&#10;&#10;                    PriceDetailRow(&#10;                        label = &quot;Harga per jam&quot;,&#10;                        value = &quot;Rp ${formatPrice(tierPrice)}&quot;&#10;                    )&#10;&#10;                    HorizontalDivider(&#10;                        color = GrayText.copy(alpha = 0.3f),&#10;                        modifier = Modifier.padding(vertical = 12.dp)&#10;                    )&#10;&#10;                    PriceDetailRow(&#10;                        label = &quot;Total&quot;,&#10;                        value = &quot;Rp ${formatPrice(totalPrice)}&quot;,&#10;                        isBold = true&#10;                    )&#10;                }&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(100.dp))&#10;        }&#10;&#10;        // Bottom Button&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .background(White)&#10;                .padding(horizontal = 24.dp)&#10;                .padding(bottom = 24.dp, top = 16.dp)&#10;        ) {&#10;            Row(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .background(&#10;                        color = PetPalDarkGreen,&#10;                        shape = RoundedCornerShape(32.dp)&#10;                    )&#10;                    .clickable { onConfirmPayment() }&#10;                    .padding(16.dp),&#10;                horizontalArrangement = Arrangement.Center,&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_payment_foreground),&#10;                    contentDescription = null,&#10;                    modifier = Modifier.size(20.dp)&#10;                )&#10;&#10;                Spacer(modifier = Modifier.width(8.dp))&#10;&#10;                Text(&#10;                    text = &quot;Lanjut Pembayaran&quot;,&#10;                    fontSize = 16.sp,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = White&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun OrderCard(&#10;    serviceType: String,&#10;    petNames: String,&#10;    petImageUrl: String?,&#10;    startTime: String,&#10;    startDate: String,&#10;    endTime: String,&#10;    endDate: String,&#10;    tier: String,&#10;    branch: String&#10;) {&#10;    Surface(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        shape = RoundedCornerShape(16.dp),&#10;        color = White,&#10;        shadowElevation = 2.dp,&#10;        tonalElevation = 0.dp&#10;    ) {&#10;        Column(&#10;            modifier = Modifier.padding(16.dp)&#10;        ) {&#10;            // Pet Info Row&#10;            Row(&#10;                verticalAlignment = Alignment.CenterVertically,&#10;                modifier = Modifier.fillMaxWidth()&#10;            ) {&#10;                // Pet Image&#10;                if (petImageUrl != null) {&#10;                    AsyncImage(&#10;                        model = petImageUrl,&#10;                        contentDescription = &quot;Pet Image&quot;,&#10;                        modifier = Modifier&#10;                            .size(48.dp)&#10;                            .clip(CircleShape)&#10;                    )&#10;                } else {&#10;                    Box(&#10;                        modifier = Modifier&#10;                            .size(48.dp)&#10;                            .clip(CircleShape)&#10;                            .background(GrayText.copy(alpha = 0.2f)),&#10;                        contentAlignment = Alignment.Center&#10;                    ) {&#10;                        Image(&#10;                            painter = painterResource(id = R.drawable.icon_petoption_foreground),&#10;                            contentDescription = &quot;Pet&quot;,&#10;                            modifier = Modifier.size(24.dp)&#10;                        )&#10;                    }&#10;                }&#10;&#10;                Spacer(modifier = Modifier.width(12.dp))&#10;&#10;                Column(modifier = Modifier.weight(1f)) {&#10;                    Text(&#10;                        text = petNames,&#10;                        fontSize = 16.sp,&#10;                        fontWeight = FontWeight.Bold,&#10;                        color = BlackText&#10;                    )&#10;                }&#10;&#10;                // Service Type Badge&#10;                Surface(&#10;                    shape = RoundedCornerShape(8.dp),&#10;                    color = PetPalDarkGreen&#10;                ) {&#10;                    Text(&#10;                        text = serviceType,&#10;                        fontSize = 12.sp,&#10;                        fontWeight = FontWeight.Bold,&#10;                        color = White,&#10;                        modifier = Modifier.padding(horizontal = 12.dp, vertical = 4.dp)&#10;                    )&#10;                }&#10;            }&#10;&#10;            HorizontalDivider(&#10;                color = GrayText.copy(alpha = 0.3f),&#10;                modifier = Modifier.padding(vertical = 12.dp)&#10;            )&#10;&#10;            // Order Details&#10;            OrderDetailRow(&#10;                icon = R.drawable.icon_calendar_foreground,&#10;                label = &quot;Durasi&quot;,&#10;                value = if (serviceType == &quot;Boarding&quot;) {&#10;                    &quot;$startTime $startDate - $endTime $endDate&quot;&#10;                } else {&#10;                    &quot;$startTime - $endTime, $startDate&quot;&#10;                }&#10;            )&#10;&#10;            Spacer(modifier = Modifier.height(8.dp))&#10;&#10;            OrderDetailRow(&#10;                icon = R.drawable.icon_tier_foreground,&#10;                label = &quot;Tingkat Layanan&quot;,&#10;                value = tier&#10;            )&#10;&#10;            Spacer(modifier = Modifier.height(8.dp))&#10;&#10;            OrderDetailRow(&#10;                icon = R.drawable.icon_branch_foreground,&#10;                label = &quot;Cabang&quot;,&#10;                value = branch&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun OrderDetailRow(&#10;    icon: Int,&#10;    label: String,&#10;    value: String&#10;) {&#10;    Row(&#10;        modifier = Modifier.fillMaxWidth(),&#10;        verticalAlignment = Alignment.Top&#10;    ) {&#10;        Image(&#10;            painter = painterResource(id = icon),&#10;            contentDescription = null,&#10;            modifier = Modifier.size(20.dp)&#10;        )&#10;&#10;        Spacer(modifier = Modifier.width(8.dp))&#10;&#10;        Column(modifier = Modifier.weight(1f)) {&#10;            Text(&#10;                text = label,&#10;                fontSize = 12.sp,&#10;                color = GrayText&#10;            )&#10;            Text(&#10;                text = value,&#10;                fontSize = 14.sp,&#10;                fontWeight = FontWeight.Medium,&#10;                color = BlackText&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun PaymentMethodSelector() {&#10;    Surface(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .clickable { /* Navigate to payment method selection */ },&#10;        shape = RoundedCornerShape(12.dp),&#10;        color = PetPalDarkGreen&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(16.dp),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Box(&#10;                modifier = Modifier&#10;                    .size(40.dp)&#10;                    .clip(CircleShape)&#10;                    .background(White.copy(alpha = 0.2f)),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_tier_foreground),&#10;                    contentDescription = &quot;Payment Method&quot;,&#10;                    modifier = Modifier.size(24.dp)&#10;                )&#10;            }&#10;&#10;            Spacer(modifier = Modifier.width(12.dp))&#10;&#10;            Text(&#10;                text = &quot;Pilih Metode Pembayaran&quot;,&#10;                fontSize = 16.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = White,&#10;                modifier = Modifier.weight(1f)&#10;            )&#10;&#10;            Icon(&#10;                imageVector = Icons.AutoMirrored.Filled.ArrowForward,&#10;                contentDescription = &quot;Arrow&quot;,&#10;                tint = White,&#10;                modifier = Modifier.size(20.dp)&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun PriceDetailRow(&#10;    label: String,&#10;    value: String,&#10;    isBold: Boolean = false&#10;) {&#10;    Row(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .padding(vertical = 4.dp),&#10;        horizontalArrangement = Arrangement.SpaceBetween&#10;    ) {&#10;        Text(&#10;            text = label,&#10;            fontSize = 14.sp,&#10;            fontWeight = if (isBold) FontWeight.Bold else FontWeight.Normal,&#10;            color = BlackText&#10;        )&#10;&#10;        Text(&#10;            text = value,&#10;            fontSize = 14.sp,&#10;            fontWeight = if (isBold) FontWeight.Bold else FontWeight.Normal,&#10;            color = BlackText&#10;        )&#10;    }&#10;}&#10;&#10;private fun formatPrice(price: Double): String {&#10;    val formatter = NumberFormat.getInstance(Locale.forLanguageTag(&quot;id-ID&quot;))&#10;    return formatter.format(price.toLong())&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>