<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/petpal/app/src/main/java/com/example/petpal/presentation/navigation/Screen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/petpal/app/src/main/java/com/example/petpal/presentation/navigation/Screen.kt" />
              <option name="updatedContent" value="sealed class Screen(val route: String) {&#10;    // ...existing code...&#10;&#10;    // Order Screens&#10;    object OrderForm : Screen(&quot;order_form/{serviceType}&quot;) {&#10;        fun createRoute(serviceType: String) = &quot;order_form/$serviceType&quot;&#10;    }&#10;    object PetSelection : Screen(&quot;pet_selection&quot;)&#10;    object TierSelection : Screen(&quot;tier_selection&quot;)&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/petpal/presentation/navigation/AppNavigation.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/petpal/presentation/navigation/AppNavigation.kt" />
              <option name="originalContent" value="package com.example.petpal.presentation.navigation&#10;&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.animation.slideInVertically&#10;import androidx.compose.animation.slideOutVertically&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.material.Text&#10;import androidx.compose.material3.Scaffold&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.Modifier&#10;import androidx.navigation.NavHostController&#10;import androidx.navigation.NavType&#10;import androidx.navigation.compose.NavHost&#10;import androidx.navigation.compose.composable&#10;import androidx.navigation.compose.rememberNavController&#10;import androidx.navigation.navArgument&#10;import com.example.petpal.data.repository.AuthRepository&#10;import com.example.petpal.presentation.component.PetPalBottomBar&#10;import com.example.petpal.presentation.view.AddPetScreen&#10;import com.example.petpal.presentation.view.ChangePasswordScreen&#10;import com.example.petpal.presentation.view.EditProfileScreen&#10;import com.example.petpal.presentation.view.HistoryScreen&#10;import com.example.petpal.presentation.view.HomeScreen&#10;import com.example.petpal.presentation.view.LoginScreen&#10;import com.example.petpal.presentation.view.OnBoardingScreen&#10;import com.example.petpal.presentation.view.OrderFormScreen&#10;import com.example.petpal.presentation.view.PemesananScreen&#10;import com.example.petpal.presentation.view.PetListScreen&#10;import com.example.petpal.presentation.view.PetSelectionScreen&#10;import com.example.petpal.presentation.view.ProfileScreen&#10;import com.example.petpal.presentation.view.RegisterScreen&#10;&#10;@Composable&#10;fun AppNavigation(navController: NavHostController = rememberNavController()) {&#10;    val authRepository = AuthRepository()&#10;&#10;    // Cek apakah user sudah login&#10;//    val startDestination = if (authRepository.currentUser != null) Screen.Home.route else Screen.OnBoarding.route&#10;    val startDestination = Screen.Login.route&#10;//    val startDestination = Screen.Home.route&#10;&#10;    Scaffold (&#10;        bottomBar = { PetPalBottomBar(navController) }&#10;    ){ paddingValues -&gt;&#10;        NavHost(&#10;            navController = navController,&#10;            startDestination = startDestination,&#10;            modifier = Modifier.padding(paddingValues)&#10;        ) {&#10;            // ONBOARDING&#10;            composable(Screen.OnBoarding.route) {&#10;                OnBoardingScreen(&#10;                    onNavigateToLogin = { navController.navigate(Screen.Login.route) },&#10;                    onNavigateToRegister = { navController.navigate(Screen.Register.route) }&#10;                )&#10;            }&#10;&#10;            // LOGIN&#10;            composable(Screen.Login.route) {&#10;                LoginScreen(&#10;                    onNavigateToRegister = {&#10;                        navController.navigate(Screen.Register.route){&#10;                            popUpTo(Screen.Login.route) { inclusive = true }&#10;                        }&#10;                    },&#10;                    onLoginSuccess = {&#10;                        navController.navigate(Screen.Home.route) {&#10;                            popUpTo(Screen.OnBoarding.route) { inclusive = true }&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            // REGISTER&#10;            composable(Screen.Register.route) {&#10;                RegisterScreen(&#10;                    onNavigateToLogin = {&#10;                        navController.navigate(Screen.Login.route){&#10;                            popUpTo(Screen.Register.route) { inclusive = true }&#10;                        }&#10;                    },&#10;                    onRegisterSuccess = {&#10;                        // Langsung ke Home setelah sukses daftar&#10;                        navController.navigate(Screen.Home.route) {&#10;                            popUpTo(Screen.OnBoarding.route) { inclusive = true }&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            // HOME&#10;            composable(Screen.Home.route) {&#10;                HomeScreen(&#10;                    onLogout = {&#10;                        authRepository.logout()&#10;                        // Kembali ke Login dan hapus history Home&#10;                        navController.navigate(Screen.Login.route) {&#10;                            popUpTo(Screen.Home.route) { inclusive = true }&#10;                            launchSingleTop = true&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            // PESANAN&#10;            composable(Screen.Pesanan.route) {&#10;                PemesananScreen(&#10;                    onNavigateToOrderForm = { serviceType -&gt;&#10;                        navController.navigate(Screen.OrderForm.createRoute(serviceType))&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(Screen.Riwayat.route) {&#10;                HistoryScreen(&#10;                    onNavigateToHistory = { navController.navigate(Screen.Riwayat.route)},&#10;                )&#10;            }&#10;            composable(Screen.Profile.route) {&#10;                ProfileScreen(&#10;                    onNavigateToEditProfile = { navController.navigate(Screen.EditProfile.route) },&#10;                    onNavigateToPetList = { navController.navigate(Screen.PetList.route) },&#10;                    onLogout = {&#10;                        navController.navigate(Screen.Login.route) {&#10;                            popUpTo(0) { inclusive = true }&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            // Sub-Pages Profile&#10;            composable(Screen.EditProfile.route) {&#10;                EditProfileScreen(&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onNavigateToChangePassword = { navController.navigate(Screen.ChangePassword.route) }&#10;                )&#10;            }&#10;            composable(Screen.ChangePassword.route) {&#10;                ChangePasswordScreen (&#10;                    onNavigateBack = { navController.popBackStack() }&#10;                )&#10;            }&#10;&#10;            composable(Screen.PetList.route) {&#10;                PetListScreen(&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onNavigateToAddPet = { navController.navigate(Screen.AddPet.route) }&#10;                )&#10;            }&#10;&#10;            composable(Screen.AddPet.route) {&#10;                AddPetScreen(&#10;                    onNavigateBack = { navController.popBackStack() }&#10;                )&#10;            }&#10;&#10;            // Order Form&#10;            composable(&#10;                route = Screen.OrderForm.route,&#10;                arguments = listOf(&#10;                    navArgument(&quot;serviceType&quot;) { type = NavType.StringType }&#10;                ),&#10;                enterTransition = {&#10;                    slideInVertically(&#10;                        initialOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                },&#10;                exitTransition = {&#10;                    slideOutVertically(&#10;                        targetOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                }&#10;            ) { backStackEntry -&gt;&#10;                val serviceType = backStackEntry.arguments?.getString(&quot;serviceType&quot;) ?: &quot;Boarding&quot;&#10;                OrderFormScreen(&#10;                    serviceType = serviceType,&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onNavigateToPetSelection = {&#10;                        navController.navigate(Screen.PetSelection.route)&#10;                    },&#10;                    onSubmitOrder = {&#10;                        // TODO: Navigate to payment or confirmation screen&#10;                        navController.popBackStack()&#10;                    }&#10;                )&#10;            }&#10;&#10;            // Pet Selection&#10;            composable(&#10;                route = Screen.PetSelection.route,&#10;                enterTransition = {&#10;                    slideInVertically(&#10;                        initialOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                },&#10;                exitTransition = {&#10;                    slideOutVertically(&#10;                        targetOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                }&#10;            ) {&#10;                PetSelectionScreen(&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onNavigateToAddPet = {&#10;                        navController.navigate(Screen.AddPet.route)&#10;                    },&#10;                    onPetsSelected = { pets -&gt;&#10;                        // TODO: Pass selected pets back to OrderForm&#10;                        navController.previousBackStackEntry&#10;                            ?.savedStateHandle&#10;                            ?.set(&quot;selected_pets&quot;, pets)&#10;                        navController.popBackStack()&#10;                    }&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.petpal.presentation.navigation&#10;&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.animation.slideInVertically&#10;import androidx.compose.animation.slideOutVertically&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.material.Text&#10;import androidx.compose.material3.Scaffold&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.collectAsState&#10;import androidx.compose.ui.Modifier&#10;import androidx.navigation.NavHostController&#10;import androidx.navigation.NavType&#10;import androidx.navigation.compose.NavHost&#10;import androidx.navigation.compose.composable&#10;import androidx.navigation.compose.rememberNavController&#10;import androidx.navigation.navArgument&#10;import com.example.petpal.data.model.Pet&#10;import com.example.petpal.data.repository.AuthRepository&#10;import com.example.petpal.presentation.component.PetPalBottomBar&#10;import com.example.petpal.presentation.view.AddPetScreen&#10;import com.example.petpal.presentation.view.ChangePasswordScreen&#10;import com.example.petpal.presentation.view.EditProfileScreen&#10;import com.example.petpal.presentation.view.HistoryScreen&#10;import com.example.petpal.presentation.view.HomeScreen&#10;import com.example.petpal.presentation.view.LoginScreen&#10;import com.example.petpal.presentation.view.OnBoardingScreen&#10;import com.example.petpal.presentation.view.OrderFormScreen&#10;import com.example.petpal.presentation.view.PemesananScreen&#10;import com.example.petpal.presentation.view.PetListScreen&#10;import com.example.petpal.presentation.view.PetSelectionScreen&#10;import com.example.petpal.presentation.view.ProfileScreen&#10;import com.example.petpal.presentation.view.RegisterScreen&#10;import com.example.petpal.presentation.view.TierSelectionScreen&#10;&#10;@Composable&#10;fun AppNavigation(navController: NavHostController = rememberNavController()) {&#10;    val authRepository = AuthRepository()&#10;&#10;    // Cek apakah user sudah login&#10;//    val startDestination = if (authRepository.currentUser != null) Screen.Home.route else Screen.OnBoarding.route&#10;    val startDestination = Screen.Login.route&#10;//    val startDestination = Screen.Home.route&#10;&#10;    Scaffold (&#10;        bottomBar = { PetPalBottomBar(navController) }&#10;    ){ paddingValues -&gt;&#10;        NavHost(&#10;            navController = navController,&#10;            startDestination = startDestination,&#10;            modifier = Modifier.padding(paddingValues)&#10;        ) {&#10;            // ONBOARDING&#10;            composable(Screen.OnBoarding.route) {&#10;                OnBoardingScreen(&#10;                    onNavigateToLogin = { navController.navigate(Screen.Login.route) },&#10;                    onNavigateToRegister = { navController.navigate(Screen.Register.route) }&#10;                )&#10;            }&#10;&#10;            // LOGIN&#10;            composable(Screen.Login.route) {&#10;                LoginScreen(&#10;                    onNavigateToRegister = {&#10;                        navController.navigate(Screen.Register.route){&#10;                            popUpTo(Screen.Login.route) { inclusive = true }&#10;                        }&#10;                    },&#10;                    onLoginSuccess = {&#10;                        navController.navigate(Screen.Home.route) {&#10;                            popUpTo(Screen.OnBoarding.route) { inclusive = true }&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            // REGISTER&#10;            composable(Screen.Register.route) {&#10;                RegisterScreen(&#10;                    onNavigateToLogin = {&#10;                        navController.navigate(Screen.Login.route){&#10;                            popUpTo(Screen.Register.route) { inclusive = true }&#10;                        }&#10;                    },&#10;                    onRegisterSuccess = {&#10;                        // Langsung ke Home setelah sukses daftar&#10;                        navController.navigate(Screen.Home.route) {&#10;                            popUpTo(Screen.OnBoarding.route) { inclusive = true }&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            // HOME&#10;            composable(Screen.Home.route) {&#10;                HomeScreen(&#10;                    onLogout = {&#10;                        authRepository.logout()&#10;                        // Kembali ke Login dan hapus history Home&#10;                        navController.navigate(Screen.Login.route) {&#10;                            popUpTo(Screen.Home.route) { inclusive = true }&#10;                            launchSingleTop = true&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            // PESANAN&#10;            composable(Screen.Pesanan.route) {&#10;                PemesananScreen(&#10;                    onNavigateToOrderForm = { serviceType -&gt;&#10;                        navController.navigate(Screen.OrderForm.createRoute(serviceType))&#10;                    }&#10;                )&#10;            }&#10;&#10;            composable(Screen.Riwayat.route) {&#10;                HistoryScreen(&#10;                    onNavigateToHistory = { navController.navigate(Screen.Riwayat.route)},&#10;                )&#10;            }&#10;            composable(Screen.Profile.route) {&#10;                ProfileScreen(&#10;                    onNavigateToEditProfile = { navController.navigate(Screen.EditProfile.route) },&#10;                    onNavigateToPetList = { navController.navigate(Screen.PetList.route) },&#10;                    onLogout = {&#10;                        navController.navigate(Screen.Login.route) {&#10;                            popUpTo(0) { inclusive = true }&#10;                        }&#10;                    }&#10;                )&#10;            }&#10;&#10;            // Sub-Pages Profile&#10;            composable(Screen.EditProfile.route) {&#10;                EditProfileScreen(&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onNavigateToChangePassword = { navController.navigate(Screen.ChangePassword.route) }&#10;                )&#10;            }&#10;            composable(Screen.ChangePassword.route) {&#10;                ChangePasswordScreen (&#10;                    onNavigateBack = { navController.popBackStack() }&#10;                )&#10;            }&#10;&#10;            composable(Screen.PetList.route) {&#10;                PetListScreen(&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onNavigateToAddPet = { navController.navigate(Screen.AddPet.route) }&#10;                )&#10;            }&#10;&#10;            composable(Screen.AddPet.route) {&#10;                AddPetScreen(&#10;                    onNavigateBack = { navController.popBackStack() }&#10;                )&#10;            }&#10;&#10;            // Order Form&#10;            composable(&#10;                route = Screen.OrderForm.route,&#10;                arguments = listOf(&#10;                    navArgument(&quot;serviceType&quot;) { type = NavType.StringType }&#10;                ),&#10;                enterTransition = {&#10;                    slideInVertically(&#10;                        initialOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                },&#10;                exitTransition = {&#10;                    slideOutVertically(&#10;                        targetOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                }&#10;            ) { backStackEntry -&gt;&#10;                val serviceType = backStackEntry.arguments?.getString(&quot;serviceType&quot;) ?: &quot;Boarding&quot;&#10;                val savedStateHandle = backStackEntry.savedStateHandle&#10;                val selectedTier = savedStateHandle.getStateFlow&lt;String?&gt;(&quot;selected_tier&quot;, null).collectAsState().value&#10;                val selectedPets = savedStateHandle.get&lt;List&lt;Pet&gt;&gt;(&quot;selected_pets&quot;)&#10;&#10;                OrderFormScreen(&#10;                    serviceType = serviceType,&#10;                    selectedTierFromNav = selectedTier,&#10;                    selectedPetsFromNav = selectedPets,&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onNavigateToPetSelection = {&#10;                        navController.navigate(Screen.PetSelection.route)&#10;                    },&#10;                    onNavigateToTierSelection = {&#10;                        navController.navigate(Screen.TierSelection.route)&#10;                    },&#10;                    onSubmitOrder = {&#10;                        navController.popBackStack()&#10;                    }&#10;                )&#10;            }&#10;&#10;            // Pet Selection&#10;            composable(&#10;                route = Screen.PetSelection.route,&#10;                enterTransition = {&#10;                    slideInVertically(&#10;                        initialOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                },&#10;                exitTransition = {&#10;                    slideOutVertically(&#10;                        targetOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                }&#10;            ) { backStackEntry -&gt;&#10;                val previousEntry = navController.previousBackStackEntry&#10;                val initiallySelected = previousEntry?.savedStateHandle?.get&lt;List&lt;Pet&gt;&gt;(&quot;selected_pets&quot;).orEmpty()&#10;&#10;                PetSelectionScreen(&#10;                    initialSelectedPets = initiallySelected,&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onNavigateToAddPet = {&#10;                        navController.navigate(Screen.AddPet.route)&#10;                    },&#10;                    onPetsSelected = { pets -&gt;&#10;                        previousEntry?.savedStateHandle?.set(&quot;selected_pets&quot;, pets)&#10;                        navController.popBackStack()&#10;                    }&#10;                )&#10;            }&#10;&#10;            // Tier Selection&#10;            composable(&#10;                route = Screen.TierSelection.route,&#10;                enterTransition = {&#10;                    slideInVertically(&#10;                        initialOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                },&#10;                exitTransition = {&#10;                    slideOutVertically(&#10;                        targetOffsetY = { fullHeight -&gt; fullHeight },&#10;                        animationSpec = tween(durationMillis = 300)&#10;                    )&#10;                }&#10;            ) { backStackEntry -&gt;&#10;                val previousEntry = navController.previousBackStackEntry&#10;&#10;                TierSelectionScreen(&#10;                    onNavigateBack = { navController.popBackStack() },&#10;                    onTierSelected = { tier -&gt;&#10;                        previousEntry?.savedStateHandle?.set(&quot;selected_tier&quot;, tier)&#10;                        navController.popBackStack()&#10;                    }&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/petpal/presentation/navigation/Screen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/petpal/presentation/navigation/Screen.kt" />
              <option name="originalContent" value="package com.example.petpal.presentation.navigation&#10;&#10;&#10;sealed class Screen(val route: String) {&#10;    object OnBoarding : Screen(&quot;welcome_screen&quot;)&#10;    object Login : Screen(&quot;login_screen&quot;)&#10;    object Register : Screen(&quot;register_screen&quot;)&#10;&#10;    // Bottom Nav Screens&#10;    object Home : Screen(&quot;home&quot;)&#10;    object Pesanan : Screen(&quot;pesanan&quot;)&#10;    object Riwayat : Screen(&quot;riwayat&quot;)&#10;    object Profile : Screen(&quot;profile&quot;)&#10;&#10;    // Sub-Screens&#10;    object EditProfile : Screen(&quot;edit_profile&quot;)&#10;    object ChangePassword : Screen(&quot;change_password&quot;)&#10;&#10;    object PetList : Screen(&quot;pet_list&quot;)&#10;    object AddPet : Screen(&quot;add_pet&quot;)&#10;&#10;    // Order Screens&#10;    object OrderForm : Screen(&quot;order_form/{serviceType}&quot;) {&#10;        fun createRoute(serviceType: String) = &quot;order_form/$serviceType&quot;&#10;    }&#10;    object PetSelection : Screen(&quot;pet_selection&quot;)&#10;}" />
              <option name="updatedContent" value="package com.example.petpal.presentation.navigation&#10;&#10;&#10;sealed class Screen(val route: String) {&#10;    object OnBoarding : Screen(&quot;welcome_screen&quot;)&#10;    object Login : Screen(&quot;login_screen&quot;)&#10;    object Register : Screen(&quot;register_screen&quot;)&#10;&#10;    // Bottom Nav Screens&#10;    object Home : Screen(&quot;home&quot;)&#10;    object Pesanan : Screen(&quot;pesanan&quot;)&#10;    object Riwayat : Screen(&quot;riwayat&quot;)&#10;    object Profile : Screen(&quot;profile&quot;)&#10;&#10;    // Sub-Screens&#10;    object EditProfile : Screen(&quot;edit_profile&quot;)&#10;    object ChangePassword : Screen(&quot;change_password&quot;)&#10;&#10;    object PetList : Screen(&quot;pet_list&quot;)&#10;    object AddPet : Screen(&quot;add_pet&quot;)&#10;&#10;    // Order Screens&#10;    object OrderForm : Screen(&quot;order_form/{serviceType}&quot;) {&#10;        fun createRoute(serviceType: String) = &quot;order_form/$serviceType&quot;&#10;    }&#10;    object PetSelection : Screen(&quot;pet_selection&quot;)&#10;    object TierSelection : Screen(&quot;tier_selection&quot;)&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/petpal/presentation/view/OrderFormScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/petpal/presentation/view/OrderFormScreen.kt" />
              <option name="originalContent" value="package com.example.petpal.presentation.view&#10;&#10;import androidx.compose.animation.core.animateFloatAsState&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material3.DatePicker&#10;import androidx.compose.material3.DatePickerDialog&#10;import androidx.compose.material3.ExperimentalMaterial3Api&#10;import androidx.compose.material3.HorizontalDivider&#10;import androidx.compose.material3.IconButton&#10;import androidx.compose.material3.TextButton&#10;import androidx.compose.material3.TimePicker&#10;import androidx.compose.material3.rememberDatePickerState&#10;import androidx.compose.material3.rememberTimePickerState&#10;import androidx.compose.material3.OutlinedTextField&#10;import androidx.compose.material3.OutlinedTextFieldDefaults&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.rotate&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import android.widget.Toast&#10;import com.example.petpal.R&#10;import com.example.petpal.presentation.component.DurationField&#10;import com.example.petpal.presentation.component.OrderFormField&#10;import com.example.petpal.presentation.theme.BlackText&#10;import com.example.petpal.presentation.theme.GrayText&#10;import com.example.petpal.presentation.theme.PetPalDarkGreen&#10;import com.example.petpal.presentation.theme.White&#10;import java.text.NumberFormat&#10;import java.text.SimpleDateFormat&#10;import java.util.Calendar&#10;import java.util.Locale&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun OrderFormScreen(&#10;    serviceType: String,&#10;    onNavigateBack: () -&gt; Unit,&#10;    onNavigateToPetSelection: () -&gt; Unit = {},&#10;    onSelectTier: () -&gt; Unit = {},&#10;    onSelectBranch: () -&gt; Unit = {},&#10;    onSubmitOrder: () -&gt; Unit = {}&#10;) {&#10;    val context = LocalContext.current&#10;&#10;    // Get current date for Daycare service&#10;    val currentCalendar = Calendar.getInstance()&#10;    val currentDateString = SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.getDefault()).format(currentCalendar.time)&#10;&#10;    // Form state&#10;    var selectedPetNames by remember { mutableStateOf&lt;String?&gt;(null) }&#10;    var startTime by remember { mutableStateOf(&quot;00:00&quot;) }&#10;    var startDate by remember { mutableStateOf(if (serviceType == &quot;Daycare&quot;) currentDateString else &quot;00/00/0000&quot;) }&#10;    var endTime by remember { mutableStateOf(&quot;00:00&quot;) }&#10;    var endDate by remember { mutableStateOf(if (serviceType == &quot;Daycare&quot;) currentDateString else &quot;00/00/0000&quot;) }&#10;    var selectedTier by remember { mutableStateOf&lt;String?&gt;(null) }&#10;    var selectedBranch by remember { mutableStateOf&lt;String?&gt;(null) }&#10;    var note by remember { mutableStateOf(&quot;&quot;) }&#10;    var isPriceExpanded by remember { mutableStateOf(false) }&#10;&#10;    // Dialog states&#10;    var showStartDatePicker by remember { mutableStateOf(false) }&#10;    var showStartTimePicker by remember { mutableStateOf(false) }&#10;    var showEndDatePicker by remember { mutableStateOf(false) }&#10;    var showEndTimePicker by remember { mutableStateOf(false) }&#10;&#10;    // Calculate total price&#10;    val tierPrices = mapOf(&#10;        &quot;Regular&quot; to 50000.0,&#10;        &quot;VIP&quot; to 75000.0,&#10;        &quot;VVIP&quot; to 100000.0&#10;    )&#10;&#10;    // Mock duration calculation (will be replaced with actual datetime calculation)&#10;    val durationHours = 0 // TODO: Calculate from actual start and end times&#10;    val tierPrice = selectedTier?.let { tierPrices[it] } ?: 0.0&#10;    val totalPrice = durationHours * tierPrice&#10;&#10;    // Check if form is complete&#10;    val isFormComplete = selectedPetNames != null &amp;&amp;&#10;                         startTime != &quot;00:00&quot; &amp;&amp;&#10;                         endTime != &quot;00:00&quot; &amp;&amp;&#10;                         selectedTier != null &amp;&amp;&#10;                         selectedBranch != null&#10;&#10;    val scrollState = rememberScrollState()&#10;    val iconRotation by animateFloatAsState(&#10;        targetValue = if (isPriceExpanded) 0f else 180f,&#10;        animationSpec = tween(durationMillis = 300),&#10;        label = &quot;icon rotation&quot;&#10;    )&#10;&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(White)&#10;            .windowInsetsPadding(WindowInsets.systemBars)&#10;    ) {&#10;        // Header&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(16.dp)&#10;        ) {&#10;            IconButton(&#10;                onClick = onNavigateBack,&#10;                modifier = Modifier.align(Alignment.CenterStart)&#10;            ) {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_close_foreground),&#10;                    contentDescription = &quot;Close&quot;,&#10;                    modifier = Modifier.size(24.dp)&#10;                )&#10;            }&#10;&#10;            Text(&#10;                text = &quot;Buat Pesanan&quot;,&#10;                fontSize = 20.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = BlackText,&#10;                modifier = Modifier.align(Alignment.Center)&#10;            )&#10;        }&#10;&#10;        // Scrollable content&#10;        Column(&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .verticalScroll(scrollState)&#10;                .padding(horizontal = 24.dp)&#10;        ) {&#10;            // Pet Selection&#10;            OrderFormField(&#10;                iconRes = R.drawable.icon_petoption_foreground,&#10;                label = &quot;Hewan Peliharaan&quot;,&#10;                value = selectedPetNames ?: &quot;Pilih hewan peliharaanmu&quot;,&#10;                onClick = onNavigateToPetSelection,&#10;                isPlaceholder = selectedPetNames == null,&#10;                modifier = Modifier.padding(bottom = 24.dp)&#10;            )&#10;&#10;            // Duration Section&#10;            Text(&#10;                text = &quot;Durasi&quot;,&#10;                fontSize = 16.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = BlackText,&#10;                modifier = Modifier.padding(bottom = 8.dp)&#10;            )&#10;&#10;            // Start Duration&#10;            DurationField(&#10;                label = &quot;Dari :&quot;,&#10;                time = startTime,&#10;                date = startDate,&#10;                onClick = {&#10;                    if (serviceType == &quot;Boarding&quot;) {&#10;                        showStartDatePicker = true&#10;                    } else {&#10;                        showStartTimePicker = true&#10;                    }&#10;                },&#10;                modifier = Modifier.padding(bottom = 12.dp)&#10;            )&#10;&#10;            // End Duration&#10;            DurationField(&#10;                label = &quot;Sampai :&quot;,&#10;                time = endTime,&#10;                date = endDate,&#10;                onClick = {&#10;                    if (serviceType == &quot;Boarding&quot;) {&#10;                        showEndDatePicker = true&#10;                    } else {&#10;                        showEndTimePicker = true&#10;                    }&#10;                },&#10;                modifier = Modifier.padding(bottom = 24.dp)&#10;            )&#10;&#10;            // Service Tier&#10;            OrderFormField(&#10;                iconRes = R.drawable.icon_tier_foreground,&#10;                label = &quot;Tingkat Layanan&quot;,&#10;                value = selectedTier ?: &quot;Tingkat Layanan&quot;,&#10;                onClick = onSelectTier,&#10;                isPlaceholder = selectedTier == null,&#10;                modifier = Modifier.padding(bottom = 24.dp)&#10;            )&#10;&#10;            // Branch&#10;            OrderFormField(&#10;                iconRes = R.drawable.icon_branch_foreground,&#10;                label = &quot;Cabang&quot;,&#10;                value = selectedBranch ?: &quot;Cabang&quot;,&#10;                onClick = onSelectBranch,&#10;                isPlaceholder = selectedBranch == null,&#10;                modifier = Modifier.padding(bottom = 24.dp)&#10;            )&#10;&#10;            // Notes&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 24.dp)&#10;            ) {&#10;                Text(&#10;                    text = &quot;Catatan&quot;,&#10;                    fontSize = 16.sp,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = BlackText,&#10;                    modifier = Modifier.padding(bottom = 8.dp)&#10;                )&#10;&#10;                OutlinedTextField(&#10;                    value = note,&#10;                    onValueChange = { note = it },&#10;                    placeholder = {&#10;                        Row(&#10;                            verticalAlignment = Alignment.CenterVertically,&#10;                            horizontalArrangement = Arrangement.spacedBy(8.dp)&#10;                        ) {&#10;                            Image(&#10;                                painter = painterResource(id = R.drawable.icon_note_foreground),&#10;                                contentDescription = &quot;Note icon&quot;,&#10;                                modifier = Modifier.size(16.dp)&#10;                            )&#10;                            Text(&#10;                                text = &quot;Ketik catatanmu di sini&quot;,&#10;                                color = GrayText,&#10;                                fontSize = 14.sp&#10;                            )&#10;                        }&#10;                    },&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .height(100.dp),&#10;                    shape = RoundedCornerShape(12.dp),&#10;                    colors = OutlinedTextFieldDefaults.colors(&#10;                        unfocusedBorderColor = GrayText.copy(alpha = 0.3f),&#10;                        focusedBorderColor = PetPalDarkGreen,&#10;                        unfocusedContainerColor = GrayText.copy(alpha = 0.1f),&#10;                        focusedContainerColor = GrayText.copy(alpha = 0.1f),&#10;                        unfocusedTextColor = BlackText,&#10;                        focusedTextColor = BlackText&#10;                    )&#10;                )&#10;            }&#10;        }&#10;&#10;        // Date/Time Pickers&#10;        if (showStartDatePicker) {&#10;            DateTimePickerDialog(&#10;                onDismiss = { showStartDatePicker = false },&#10;                onDateTimeSelected = { time, date -&gt;&#10;                    startTime = time&#10;                    startDate = date&#10;                    showStartDatePicker = false&#10;                },&#10;                isStart = true,&#10;                currentStartTime = startTime,&#10;                currentStartDate = startDate,&#10;                context = context&#10;            )&#10;        }&#10;&#10;        if (showStartTimePicker) {&#10;            TimePickerDialog(&#10;                onDismiss = { showStartTimePicker = false },&#10;                onTimeSelected = { time -&gt;&#10;                    startTime = time&#10;                    showStartTimePicker = false&#10;                },&#10;                isStart = true,&#10;                currentStartTime = startTime,&#10;                context = context&#10;            )&#10;        }&#10;&#10;        if (showEndDatePicker) {&#10;            DateTimePickerDialog(&#10;                onDismiss = { showEndDatePicker = false },&#10;                onDateTimeSelected = { time, date -&gt;&#10;                    endTime = time&#10;                    endDate = date&#10;                    showEndDatePicker = false&#10;                },&#10;                isStart = false,&#10;                currentStartTime = startTime,&#10;                currentStartDate = startDate,&#10;                context = context&#10;            )&#10;        }&#10;&#10;        if (showEndTimePicker) {&#10;            TimePickerDialog(&#10;                onDismiss = { showEndTimePicker = false },&#10;                onTimeSelected = { time -&gt;&#10;                    endTime = time&#10;                    showEndTimePicker = false&#10;                },&#10;                isStart = false,&#10;                currentStartTime = startTime,&#10;                context = context&#10;            )&#10;        }&#10;&#10;        // Price Section - Sticky above button&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .background(White)&#10;                .padding(horizontal = 24.dp)&#10;        ) {&#10;            // Total Price Header (Clickable)&#10;            Row(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .clickable { isPriceExpanded = !isPriceExpanded }&#10;                    .padding(vertical = 8.dp),&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Text(&#10;                    text = &quot;Total Harga : Rp ${formatPrice(totalPrice)}&quot;,&#10;                    fontSize = 16.sp,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = BlackText,&#10;                    modifier = Modifier.weight(1f)&#10;                )&#10;&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_pricedetail_foreground),&#10;                    contentDescription = &quot;Price detail&quot;,&#10;                    modifier = Modifier&#10;                        .size(20.dp)&#10;                        .rotate(iconRotation)&#10;                )&#10;            }&#10;&#10;            // Expanded Price Details&#10;            if (isPriceExpanded) {&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(top = 12.dp)&#10;                ) {&#10;                    HorizontalDivider(&#10;                        color = GrayText.copy(alpha = 0.3f),&#10;                        modifier = Modifier.padding(bottom = 12.dp)&#10;                    )&#10;&#10;                    PriceDetailRow(&#10;                        label = &quot;Durasi&quot;,&#10;                        value = &quot;$durationHours jam&quot;&#10;                    )&#10;&#10;                    PriceDetailRow(&#10;                        label = &quot;Harga per jam&quot;,&#10;                        value = &quot;Rp ${formatPrice(tierPrice)}&quot;&#10;                    )&#10;&#10;                    HorizontalDivider(&#10;                        color = GrayText.copy(alpha = 0.3f),&#10;                        modifier = Modifier.padding(vertical = 12.dp)&#10;                    )&#10;&#10;                    PriceDetailRow(&#10;                        label = &quot;Total&quot;,&#10;                        value = &quot;Rp ${formatPrice(totalPrice)}&quot;,&#10;                        isBold = true&#10;                    )&#10;                }&#10;            }&#10;        }&#10;&#10;        // Bottom Button&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .background(White)&#10;                .padding(horizontal = 24.dp)&#10;                .padding(bottom = 24.dp, top = 8.dp)&#10;        ) {&#10;            Row(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .background(&#10;                        color = if (isFormComplete) PetPalDarkGreen else GrayText.copy(alpha = 0.5f),&#10;                        shape = RoundedCornerShape(32.dp)&#10;                    )&#10;                    .clickable(enabled = isFormComplete) {&#10;                        if (isFormComplete) onSubmitOrder()&#10;                    }&#10;                    .padding(16.dp),&#10;                horizontalArrangement = Arrangement.Center,&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_arrowright),&#10;                    contentDescription = null,&#10;                    modifier = Modifier.size(20.dp)&#10;                )&#10;&#10;                Spacer(modifier = Modifier.width(8.dp))&#10;&#10;                Text(&#10;                    text = &quot;Lakukan Pembayaran&quot;,&#10;                    fontSize = 16.sp,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = White&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun PriceDetailRow(&#10;    label: String,&#10;    value: String,&#10;    isBold: Boolean = false&#10;) {&#10;    Row(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .padding(vertical = 4.dp),&#10;        horizontalArrangement = Arrangement.SpaceBetween&#10;    ) {&#10;        Text(&#10;            text = label,&#10;            fontSize = 14.sp,&#10;            fontWeight = if (isBold) FontWeight.Bold else FontWeight.Normal,&#10;            color = BlackText&#10;        )&#10;&#10;        Text(&#10;            text = value,&#10;            fontSize = 14.sp,&#10;            fontWeight = if (isBold) FontWeight.Bold else FontWeight.Normal,&#10;            color = BlackText&#10;        )&#10;    }&#10;}&#10;&#10;private fun formatPrice(price: Double): String {&#10;    val formatter = NumberFormat.getInstance(Locale.forLanguageTag(&quot;id-ID&quot;))&#10;    return formatter.format(price.toLong())&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;private fun DateTimePickerDialog(&#10;    onDismiss: () -&gt; Unit,&#10;    onDateTimeSelected: (String, String) -&gt; Unit,&#10;    isStart: Boolean,&#10;    @Suppress(&quot;UNUSED_PARAMETER&quot;) currentStartTime: String,&#10;    currentStartDate: String,&#10;    context: android.content.Context&#10;) {&#10;    val calendar = Calendar.getInstance()&#10;&#10;    // Parse current start date/time if available for end date validation&#10;    if (!isStart &amp;&amp; currentStartDate != &quot;00/00/0000&quot;) {&#10;        try {&#10;            val parts = currentStartDate.split(&quot;/&quot;)&#10;            if (parts.size == 3) {&#10;                calendar.set(parts[2].toInt(), parts[1].toInt() - 1, parts[0].toInt())&#10;            }&#10;        } catch (_: Exception) {&#10;            // Keep current date&#10;        }&#10;    }&#10;&#10;    val now = Calendar.getInstance()&#10;    val todayStart = Calendar.getInstance().apply {&#10;        set(Calendar.HOUR_OF_DAY, 0)&#10;        set(Calendar.MINUTE, 0)&#10;        set(Calendar.SECOND, 0)&#10;        set(Calendar.MILLISECOND, 0)&#10;    }&#10;&#10;    val minDate = if (isStart) {&#10;        // For start date, allow today (but will validate time later)&#10;        todayStart.timeInMillis&#10;    } else {&#10;        // For end date, minimum is start date&#10;        calendar.timeInMillis&#10;    }&#10;&#10;    val datePickerState = rememberDatePickerState(&#10;        initialSelectedDateMillis = Calendar.getInstance().timeInMillis&#10;    )&#10;&#10;    var showTimePicker by remember { mutableStateOf(false) }&#10;&#10;    if (!showTimePicker) {&#10;        DatePickerDialog(&#10;            onDismissRequest = onDismiss,&#10;            confirmButton = {&#10;                TextButton(&#10;                    onClick = {&#10;                        datePickerState.selectedDateMillis?.let { millis -&gt;&#10;                            // Validate date is not before minimum&#10;                            if (millis &gt;= minDate) {&#10;                                showTimePicker = true&#10;                            } else {&#10;                                Toast.makeText(&#10;                                    context,&#10;                                    &quot;Tidak dapat memilih tanggal yang sudah lewat&quot;,&#10;                                    Toast.LENGTH_SHORT&#10;                                ).show()&#10;                            }&#10;                        }&#10;                    }&#10;                ) {&#10;                    Text(&quot;Pilih Waktu&quot;)&#10;                }&#10;            },&#10;            dismissButton = {&#10;                TextButton(onClick = onDismiss) {&#10;                    Text(&quot;Batal&quot;)&#10;                }&#10;            }&#10;        ) {&#10;            DatePicker(state = datePickerState)&#10;        }&#10;    } else {&#10;        val timePickerState = rememberTimePickerState(&#10;            initialHour = 0,&#10;            initialMinute = 0,&#10;            is24Hour = true&#10;        )&#10;&#10;        androidx.compose.material3.AlertDialog(&#10;            onDismissRequest = onDismiss,&#10;            confirmButton = {&#10;                TextButton(&#10;                    onClick = {&#10;                        datePickerState.selectedDateMillis?.let { millis -&gt;&#10;                            val selectedCalendar = Calendar.getInstance().apply {&#10;                                timeInMillis = millis&#10;                            }&#10;&#10;                            val dateString = SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.getDefault())&#10;                                .format(selectedCalendar.time)&#10;                            val timeString = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, timePickerState.hour, timePickerState.minute)&#10;&#10;                            // Validate time if same day&#10;                            val isSameDay = selectedCalendar.get(Calendar.YEAR) == now.get(Calendar.YEAR) &amp;&amp;&#10;                                    selectedCalendar.get(Calendar.DAY_OF_YEAR) == now.get(Calendar.DAY_OF_YEAR)&#10;&#10;                            if (isSameDay) {&#10;                                val selectedHour = timePickerState.hour&#10;                                val selectedMinute = timePickerState.minute&#10;                                val currentHour = now.get(Calendar.HOUR_OF_DAY)&#10;                                val currentMinute = now.get(Calendar.MINUTE)&#10;&#10;                                if (selectedHour &gt; currentHour || (selectedHour == currentHour &amp;&amp; selectedMinute &gt;= currentMinute)) {&#10;                                    onDateTimeSelected(timeString, dateString)&#10;                                } else {&#10;                                    Toast.makeText(&#10;                                        context,&#10;                                        &quot;Tidak dapat memilih waktu yang sudah lewat&quot;,&#10;                                        Toast.LENGTH_SHORT&#10;                                    ).show()&#10;                                }&#10;                            } else {&#10;                                onDateTimeSelected(timeString, dateString)&#10;                            }&#10;                        }&#10;                    }&#10;                ) {&#10;                    Text(&quot;OK&quot;)&#10;                }&#10;            },&#10;            dismissButton = {&#10;                TextButton(onClick = onDismiss) {&#10;                    Text(&quot;Batal&quot;)&#10;                }&#10;            },&#10;            text = {&#10;                Column(&#10;                    horizontalAlignment = Alignment.CenterHorizontally,&#10;                    modifier = Modifier.fillMaxWidth()&#10;                ) {&#10;                    TimePicker(state = timePickerState)&#10;                }&#10;            }&#10;        )&#10;    }&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;private fun TimePickerDialog(&#10;    onDismiss: () -&gt; Unit,&#10;    onTimeSelected: (String) -&gt; Unit,&#10;    isStart: Boolean,&#10;    currentStartTime: String,&#10;    context: android.content.Context&#10;) {&#10;    val now = Calendar.getInstance()&#10;    val currentHour = now.get(Calendar.HOUR_OF_DAY)&#10;    val currentMinute = now.get(Calendar.MINUTE)&#10;&#10;    // Parse start time for end time validation&#10;    var startHour = currentHour&#10;    var startMinute = currentMinute&#10;    if (!isStart &amp;&amp; currentStartTime != &quot;00:00&quot;) {&#10;        try {&#10;            val parts = currentStartTime.split(&quot;:&quot;)&#10;            if (parts.size == 2) {&#10;                startHour = parts[0].toInt()&#10;                startMinute = parts[1].toInt()&#10;            }&#10;        } catch (_: Exception) {&#10;            // Use current time&#10;        }&#10;    }&#10;&#10;    val minHour = if (isStart) currentHour else startHour&#10;    val minMinute = if (isStart) currentMinute else startMinute&#10;&#10;    val timePickerState = rememberTimePickerState(&#10;        initialHour = minHour,&#10;        initialMinute = minMinute,&#10;        is24Hour = true&#10;    )&#10;&#10;    androidx.compose.material3.AlertDialog(&#10;        onDismissRequest = onDismiss,&#10;        confirmButton = {&#10;            TextButton(&#10;                onClick = {&#10;                    val selectedHour = timePickerState.hour&#10;                    val selectedMinute = timePickerState.minute&#10;&#10;                    // Validate time&#10;                    val isValid = if (isStart) {&#10;                        selectedHour &gt; minHour || (selectedHour == minHour &amp;&amp; selectedMinute &gt;= minMinute)&#10;                    } else {&#10;                        selectedHour &gt; minHour || (selectedHour == minHour &amp;&amp; selectedMinute &gt; minMinute)&#10;                    }&#10;&#10;                    if (isValid) {&#10;                        val timeString = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, selectedHour, selectedMinute)&#10;                        onTimeSelected(timeString)&#10;                    } else {&#10;                        val message = if (isStart) {&#10;                            &quot;Tidak dapat memilih waktu yang sudah lewat&quot;&#10;                        } else {&#10;                            &quot;Waktu akhir harus lebih dari waktu mulai&quot;&#10;                        }&#10;                        Toast.makeText(context, message, Toast.LENGTH_SHORT).show()&#10;                    }&#10;                }&#10;            ) {&#10;                Text(&quot;OK&quot;)&#10;            }&#10;        },&#10;        dismissButton = {&#10;            TextButton(onClick = onDismiss) {&#10;                Text(&quot;Batal&quot;)&#10;            }&#10;        },&#10;        text = {&#10;            Column(&#10;                horizontalAlignment = Alignment.CenterHorizontally,&#10;                modifier = Modifier.fillMaxWidth()&#10;            ) {&#10;                TimePicker(state = timePickerState)&#10;            }&#10;        }&#10;    )&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.petpal.presentation.view&#10;&#10;import androidx.compose.animation.core.animateFloatAsState&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material3.DatePicker&#10;import androidx.compose.material3.DatePickerDialog&#10;import androidx.compose.material3.ExperimentalMaterial3Api&#10;import androidx.compose.material3.HorizontalDivider&#10;import androidx.compose.material3.IconButton&#10;import androidx.compose.material3.TextButton&#10;import androidx.compose.material3.TimePicker&#10;import androidx.compose.material3.rememberDatePickerState&#10;import androidx.compose.material3.rememberTimePickerState&#10;import androidx.compose.material3.OutlinedTextField&#10;import androidx.compose.material3.OutlinedTextFieldDefaults&#10;import androidx.compose.material3.Text&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.rotate&#10;import androidx.compose.ui.platform.LocalContext&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import android.widget.Toast&#10;import com.example.petpal.R&#10;import com.example.petpal.data.model.Pet&#10;import com.example.petpal.presentation.component.DurationField&#10;import com.example.petpal.presentation.component.OrderFormField&#10;import com.example.petpal.presentation.theme.BlackText&#10;import com.example.petpal.presentation.theme.GrayText&#10;import com.example.petpal.presentation.theme.PetPalDarkGreen&#10;import com.example.petpal.presentation.theme.White&#10;import java.text.NumberFormat&#10;import java.text.SimpleDateFormat&#10;import java.util.Calendar&#10;import java.util.Locale&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;fun OrderFormScreen(&#10;    serviceType: String,&#10;    selectedTierFromNav: String? = null,&#10;    selectedPetsFromNav: List&lt;Pet&gt;? = null,&#10;    onNavigateBack: () -&gt; Unit,&#10;    onNavigateToPetSelection: () -&gt; Unit = {},&#10;    onNavigateToTierSelection: () -&gt; Unit = {},&#10;    onSelectTier: () -&gt; Unit = {},&#10;    onSelectBranch: () -&gt; Unit = {},&#10;    onSubmitOrder: () -&gt; Unit = {}&#10;) {&#10;    val context = LocalContext.current&#10;&#10;    // Get current date for Daycare service&#10;    val currentCalendar = Calendar.getInstance()&#10;    val currentDateString = SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.getDefault()).format(currentCalendar.time)&#10;&#10;    // Form state&#10;    var selectedPetNames by remember {&#10;        mutableStateOf&lt;String?&gt;(&#10;            selectedPetsFromNav?.joinToString { pet: Pet -&gt; pet.name }&#10;        )&#10;    }&#10;    var startTime by remember { mutableStateOf(&quot;00:00&quot;) }&#10;    var startDate by remember { mutableStateOf(if (serviceType == &quot;Daycare&quot;) currentDateString else &quot;00/00/0000&quot;) }&#10;    var endTime by remember { mutableStateOf(&quot;00:00&quot;) }&#10;    var endDate by remember { mutableStateOf(if (serviceType == &quot;Daycare&quot;) currentDateString else &quot;00/00/0000&quot;) }&#10;    var selectedTier by remember { mutableStateOf&lt;String?&gt;(selectedTierFromNav) }&#10;    var selectedBranch by remember { mutableStateOf&lt;String?&gt;(null) }&#10;    var note by remember { mutableStateOf(&quot;&quot;) }&#10;    var isPriceExpanded by remember { mutableStateOf(false) }&#10;&#10;    // Dialog states&#10;    var showStartDatePicker by remember { mutableStateOf(false) }&#10;    var showStartTimePicker by remember { mutableStateOf(false) }&#10;    var showEndDatePicker by remember { mutableStateOf(false) }&#10;    var showEndTimePicker by remember { mutableStateOf(false) }&#10;&#10;    // Calculate total price&#10;    val tierPrices = mapOf(&#10;        &quot;Regular&quot; to 50000.0,&#10;        &quot;VIP&quot; to 75000.0,&#10;        &quot;VVIP&quot; to 100000.0&#10;    )&#10;&#10;    // Mock duration calculation (will be replaced with actual datetime calculation)&#10;    val durationHours = 0 // TODO: Calculate from actual start and end times&#10;    val tierPrice = selectedTier?.let { tierPrices[it] } ?: 0.0&#10;    val totalPrice = durationHours * tierPrice&#10;&#10;    // Check if form is complete&#10;    val isFormComplete = selectedPetNames != null &amp;&amp;&#10;                         startTime != &quot;00:00&quot; &amp;&amp;&#10;                         endTime != &quot;00:00&quot; &amp;&amp;&#10;                         selectedTier != null &amp;&amp;&#10;                         selectedBranch != null&#10;&#10;    val scrollState = rememberScrollState()&#10;    val iconRotation by animateFloatAsState(&#10;        targetValue = if (isPriceExpanded) 0f else 180f,&#10;        animationSpec = tween(durationMillis = 300),&#10;        label = &quot;icon rotation&quot;&#10;    )&#10;&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(White)&#10;            .windowInsetsPadding(WindowInsets.systemBars)&#10;    ) {&#10;        // Header&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(16.dp)&#10;        ) {&#10;            IconButton(&#10;                onClick = onNavigateBack,&#10;                modifier = Modifier.align(Alignment.CenterStart)&#10;            ) {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_close_foreground),&#10;                    contentDescription = &quot;Close&quot;,&#10;                    modifier = Modifier.size(24.dp)&#10;                )&#10;            }&#10;&#10;            Text(&#10;                text = &quot;Buat Pesanan&quot;,&#10;                fontSize = 20.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = BlackText,&#10;                modifier = Modifier.align(Alignment.Center)&#10;            )&#10;        }&#10;&#10;        // Scrollable content&#10;        Column(&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .verticalScroll(scrollState)&#10;                .padding(horizontal = 24.dp)&#10;        ) {&#10;            // Pet Selection&#10;            OrderFormField(&#10;                iconRes = R.drawable.icon_petoption_foreground,&#10;                label = &quot;Hewan Peliharaan&quot;,&#10;                value = selectedPetNames ?: &quot;Pilih hewan peliharaanmu&quot;,&#10;                onClick = onNavigateToPetSelection,&#10;                isPlaceholder = selectedPetNames == null,&#10;                modifier = Modifier.padding(bottom = 24.dp)&#10;            )&#10;&#10;            // Duration Section&#10;            Text(&#10;                text = &quot;Durasi&quot;,&#10;                fontSize = 16.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = BlackText,&#10;                modifier = Modifier.padding(bottom = 8.dp)&#10;            )&#10;&#10;            // Start Duration&#10;            DurationField(&#10;                label = &quot;Dari :&quot;,&#10;                time = startTime,&#10;                date = startDate,&#10;                onClick = {&#10;                    if (serviceType == &quot;Boarding&quot;) {&#10;                        showStartDatePicker = true&#10;                    } else {&#10;                        showStartTimePicker = true&#10;                    }&#10;                },&#10;                modifier = Modifier.padding(bottom = 12.dp)&#10;            )&#10;&#10;            // End Duration&#10;            DurationField(&#10;                label = &quot;Sampai :&quot;,&#10;                time = endTime,&#10;                date = endDate,&#10;                onClick = {&#10;                    if (serviceType == &quot;Boarding&quot;) {&#10;                        showEndDatePicker = true&#10;                    } else {&#10;                        showEndTimePicker = true&#10;                    }&#10;                },&#10;                modifier = Modifier.padding(bottom = 24.dp)&#10;            )&#10;&#10;            // Service Tier&#10;            OrderFormField(&#10;                iconRes = R.drawable.icon_tier_foreground,&#10;                label = &quot;Tingkat Layanan&quot;,&#10;                value = selectedTier ?: &quot;Tingkat Layanan&quot;,&#10;                onClick = onNavigateToTierSelection,&#10;                isPlaceholder = selectedTier == null,&#10;                modifier = Modifier.padding(bottom = 24.dp)&#10;            )&#10;&#10;            // Branch&#10;            OrderFormField(&#10;                iconRes = R.drawable.icon_branch_foreground,&#10;                label = &quot;Cabang&quot;,&#10;                value = selectedBranch ?: &quot;Cabang&quot;,&#10;                onClick = onSelectBranch,&#10;                isPlaceholder = selectedBranch == null,&#10;                modifier = Modifier.padding(bottom = 24.dp)&#10;            )&#10;&#10;            // Notes&#10;            Column(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .padding(bottom = 24.dp)&#10;            ) {&#10;                Text(&#10;                    text = &quot;Catatan&quot;,&#10;                    fontSize = 16.sp,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = BlackText,&#10;                    modifier = Modifier.padding(bottom = 8.dp)&#10;                )&#10;&#10;                OutlinedTextField(&#10;                    value = note,&#10;                    onValueChange = { note = it },&#10;                    placeholder = {&#10;                        Row(&#10;                            verticalAlignment = Alignment.CenterVertically,&#10;                            horizontalArrangement = Arrangement.spacedBy(8.dp)&#10;                        ) {&#10;                            Image(&#10;                                painter = painterResource(id = R.drawable.icon_note_foreground),&#10;                                contentDescription = &quot;Note icon&quot;,&#10;                                modifier = Modifier.size(16.dp)&#10;                            )&#10;                            Text(&#10;                                text = &quot;Ketik catatanmu di sini&quot;,&#10;                                color = GrayText,&#10;                                fontSize = 14.sp&#10;                            )&#10;                        }&#10;                    },&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .height(100.dp),&#10;                    shape = RoundedCornerShape(12.dp),&#10;                    colors = OutlinedTextFieldDefaults.colors(&#10;                        unfocusedBorderColor = GrayText.copy(alpha = 0.3f),&#10;                        focusedBorderColor = PetPalDarkGreen,&#10;                        unfocusedContainerColor = GrayText.copy(alpha = 0.1f),&#10;                        focusedContainerColor = GrayText.copy(alpha = 0.1f),&#10;                        unfocusedTextColor = BlackText,&#10;                        focusedTextColor = BlackText&#10;                    )&#10;                )&#10;            }&#10;        }&#10;&#10;        // Date/Time Pickers&#10;        if (showStartDatePicker) {&#10;            DateTimePickerDialog(&#10;                onDismiss = { showStartDatePicker = false },&#10;                onDateTimeSelected = { time, date -&gt;&#10;                    startTime = time&#10;                    startDate = date&#10;                    showStartDatePicker = false&#10;                },&#10;                isStart = true,&#10;                currentStartTime = startTime,&#10;                currentStartDate = startDate,&#10;                context = context&#10;            )&#10;        }&#10;&#10;        if (showStartTimePicker) {&#10;            TimePickerDialog(&#10;                onDismiss = { showStartTimePicker = false },&#10;                onTimeSelected = { time -&gt;&#10;                    startTime = time&#10;                    showStartTimePicker = false&#10;                },&#10;                isStart = true,&#10;                currentStartTime = startTime,&#10;                context = context&#10;            )&#10;        }&#10;&#10;        if (showEndDatePicker) {&#10;            DateTimePickerDialog(&#10;                onDismiss = { showEndDatePicker = false },&#10;                onDateTimeSelected = { time, date -&gt;&#10;                    endTime = time&#10;                    endDate = date&#10;                    showEndDatePicker = false&#10;                },&#10;                isStart = false,&#10;                currentStartTime = startTime,&#10;                currentStartDate = startDate,&#10;                context = context&#10;            )&#10;        }&#10;&#10;        if (showEndTimePicker) {&#10;            TimePickerDialog(&#10;                onDismiss = { showEndTimePicker = false },&#10;                onTimeSelected = { time -&gt;&#10;                    endTime = time&#10;                    showEndTimePicker = false&#10;                },&#10;                isStart = false,&#10;                currentStartTime = startTime,&#10;                context = context&#10;            )&#10;        }&#10;&#10;        // Price Section - Sticky above button&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .background(White)&#10;                .padding(horizontal = 24.dp)&#10;        ) {&#10;            // Total Price Header (Clickable)&#10;            Row(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .clickable { isPriceExpanded = !isPriceExpanded }&#10;                    .padding(vertical = 8.dp),&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Text(&#10;                    text = &quot;Total Harga : Rp ${formatPrice(totalPrice)}&quot;,&#10;                    fontSize = 16.sp,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = BlackText,&#10;                    modifier = Modifier.weight(1f)&#10;                )&#10;&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_pricedetail_foreground),&#10;                    contentDescription = &quot;Price detail&quot;,&#10;                    modifier = Modifier&#10;                        .size(20.dp)&#10;                        .rotate(iconRotation)&#10;                )&#10;            }&#10;&#10;            // Expanded Price Details&#10;            if (isPriceExpanded) {&#10;                Column(&#10;                    modifier = Modifier&#10;                        .fillMaxWidth()&#10;                        .padding(top = 12.dp)&#10;                ) {&#10;                    HorizontalDivider(&#10;                        color = GrayText.copy(alpha = 0.3f),&#10;                        modifier = Modifier.padding(bottom = 12.dp)&#10;                    )&#10;&#10;                    PriceDetailRow(&#10;                        label = &quot;Durasi&quot;,&#10;                        value = &quot;$durationHours jam&quot;&#10;                    )&#10;&#10;                    PriceDetailRow(&#10;                        label = &quot;Harga per jam&quot;,&#10;                        value = &quot;Rp ${formatPrice(tierPrice)}&quot;&#10;                    )&#10;&#10;                    HorizontalDivider(&#10;                        color = GrayText.copy(alpha = 0.3f),&#10;                        modifier = Modifier.padding(vertical = 12.dp)&#10;                    )&#10;&#10;                    PriceDetailRow(&#10;                        label = &quot;Total&quot;,&#10;                        value = &quot;Rp ${formatPrice(totalPrice)}&quot;,&#10;                        isBold = true&#10;                    )&#10;                }&#10;            }&#10;        }&#10;&#10;        // Bottom Button&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .background(White)&#10;                .padding(horizontal = 24.dp)&#10;                .padding(bottom = 24.dp, top = 8.dp)&#10;        ) {&#10;            Row(&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .background(&#10;                        color = if (isFormComplete) PetPalDarkGreen else GrayText.copy(alpha = 0.5f),&#10;                        shape = RoundedCornerShape(32.dp)&#10;                    )&#10;                    .clickable(enabled = isFormComplete) {&#10;                        if (isFormComplete) onSubmitOrder()&#10;                    }&#10;                    .padding(16.dp),&#10;                horizontalArrangement = Arrangement.Center,&#10;                verticalAlignment = Alignment.CenterVertically&#10;            ) {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_arrowright),&#10;                    contentDescription = null,&#10;                    modifier = Modifier.size(20.dp)&#10;                )&#10;&#10;                Spacer(modifier = Modifier.width(8.dp))&#10;&#10;                Text(&#10;                    text = &quot;Lakukan Pembayaran&quot;,&#10;                    fontSize = 16.sp,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = White&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun PriceDetailRow(&#10;    label: String,&#10;    value: String,&#10;    isBold: Boolean = false&#10;) {&#10;    Row(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .padding(vertical = 4.dp),&#10;        horizontalArrangement = Arrangement.SpaceBetween&#10;    ) {&#10;        Text(&#10;            text = label,&#10;            fontSize = 14.sp,&#10;            fontWeight = if (isBold) FontWeight.Bold else FontWeight.Normal,&#10;            color = BlackText&#10;        )&#10;&#10;        Text(&#10;            text = value,&#10;            fontSize = 14.sp,&#10;            fontWeight = if (isBold) FontWeight.Bold else FontWeight.Normal,&#10;            color = BlackText&#10;        )&#10;    }&#10;}&#10;&#10;private fun formatPrice(price: Double): String {&#10;    val formatter = NumberFormat.getInstance(Locale.forLanguageTag(&quot;id-ID&quot;))&#10;    return formatter.format(price.toLong())&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;private fun DateTimePickerDialog(&#10;    onDismiss: () -&gt; Unit,&#10;    onDateTimeSelected: (String, String) -&gt; Unit,&#10;    isStart: Boolean,&#10;    @Suppress(&quot;UNUSED_PARAMETER&quot;) currentStartTime: String,&#10;    currentStartDate: String,&#10;    context: android.content.Context&#10;) {&#10;    val calendar = Calendar.getInstance()&#10;&#10;    // Parse current start date/time if available for end date validation&#10;    if (!isStart &amp;&amp; currentStartDate != &quot;00/00/0000&quot;) {&#10;        try {&#10;            val parts = currentStartDate.split(&quot;/&quot;)&#10;            if (parts.size == 3) {&#10;                calendar.set(parts[2].toInt(), parts[1].toInt() - 1, parts[0].toInt())&#10;            }&#10;        } catch (_: Exception) {&#10;            // Keep current date&#10;        }&#10;    }&#10;&#10;    val now = Calendar.getInstance()&#10;    val todayStart = Calendar.getInstance().apply {&#10;        set(Calendar.HOUR_OF_DAY, 0)&#10;        set(Calendar.MINUTE, 0)&#10;        set(Calendar.SECOND, 0)&#10;        set(Calendar.MILLISECOND, 0)&#10;    }&#10;&#10;    val minDate = if (isStart) {&#10;        // For start date, allow today (but will validate time later)&#10;        todayStart.timeInMillis&#10;    } else {&#10;        // For end date, minimum is start date&#10;        calendar.timeInMillis&#10;    }&#10;&#10;    val datePickerState = rememberDatePickerState(&#10;        initialSelectedDateMillis = Calendar.getInstance().timeInMillis&#10;    )&#10;&#10;    var showTimePicker by remember { mutableStateOf(false) }&#10;&#10;    if (!showTimePicker) {&#10;        DatePickerDialog(&#10;            onDismissRequest = onDismiss,&#10;            confirmButton = {&#10;                TextButton(&#10;                    onClick = {&#10;                        datePickerState.selectedDateMillis?.let { millis -&gt;&#10;                            // Validate date is not before minimum&#10;                            if (millis &gt;= minDate) {&#10;                                showTimePicker = true&#10;                            } else {&#10;                                Toast.makeText(&#10;                                    context,&#10;                                    &quot;Tidak dapat memilih tanggal yang sudah lewat&quot;,&#10;                                    Toast.LENGTH_SHORT&#10;                                ).show()&#10;                            }&#10;                        }&#10;                    }&#10;                ) {&#10;                    Text(&quot;Pilih Waktu&quot;)&#10;                }&#10;            },&#10;            dismissButton = {&#10;                TextButton(onClick = onDismiss) {&#10;                    Text(&quot;Batal&quot;)&#10;                }&#10;            }&#10;        ) {&#10;            DatePicker(state = datePickerState)&#10;        }&#10;    } else {&#10;        val timePickerState = rememberTimePickerState(&#10;            initialHour = 0,&#10;            initialMinute = 0,&#10;            is24Hour = true&#10;        )&#10;&#10;        androidx.compose.material3.AlertDialog(&#10;            onDismissRequest = onDismiss,&#10;            confirmButton = {&#10;                TextButton(&#10;                    onClick = {&#10;                        datePickerState.selectedDateMillis?.let { millis -&gt;&#10;                            val selectedCalendar = Calendar.getInstance().apply {&#10;                                timeInMillis = millis&#10;                            }&#10;&#10;                            val dateString = SimpleDateFormat(&quot;dd/MM/yyyy&quot;, Locale.getDefault())&#10;                                .format(selectedCalendar.time)&#10;                            val timeString = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, timePickerState.hour, timePickerState.minute)&#10;&#10;                            // Validate time if same day&#10;                            val isSameDay = selectedCalendar.get(Calendar.YEAR) == now.get(Calendar.YEAR) &amp;&amp;&#10;                                    selectedCalendar.get(Calendar.DAY_OF_YEAR) == now.get(Calendar.DAY_OF_YEAR)&#10;&#10;                            if (isSameDay) {&#10;                                val selectedHour = timePickerState.hour&#10;                                val selectedMinute = timePickerState.minute&#10;                                val currentHour = now.get(Calendar.HOUR_OF_DAY)&#10;                                val currentMinute = now.get(Calendar.MINUTE)&#10;&#10;                                if (selectedHour &gt; currentHour || (selectedHour == currentHour &amp;&amp; selectedMinute &gt;= currentMinute)) {&#10;                                    onDateTimeSelected(timeString, dateString)&#10;                                } else {&#10;                                    Toast.makeText(&#10;                                        context,&#10;                                        &quot;Tidak dapat memilih waktu yang sudah lewat&quot;,&#10;                                        Toast.LENGTH_SHORT&#10;                                    ).show()&#10;                                }&#10;                            } else {&#10;                                onDateTimeSelected(timeString, dateString)&#10;                            }&#10;                        }&#10;                    }&#10;                ) {&#10;                    Text(&quot;OK&quot;)&#10;                }&#10;            },&#10;            dismissButton = {&#10;                TextButton(onClick = onDismiss) {&#10;                    Text(&quot;Batal&quot;)&#10;                }&#10;            },&#10;            text = {&#10;                Column(&#10;                    horizontalAlignment = Alignment.CenterHorizontally,&#10;                    modifier = Modifier.fillMaxWidth()&#10;                ) {&#10;                    TimePicker(state = timePickerState)&#10;                }&#10;            }&#10;        )&#10;    }&#10;}&#10;&#10;@OptIn(ExperimentalMaterial3Api::class)&#10;@Composable&#10;private fun TimePickerDialog(&#10;    onDismiss: () -&gt; Unit,&#10;    onTimeSelected: (String) -&gt; Unit,&#10;    isStart: Boolean,&#10;    currentStartTime: String,&#10;    context: android.content.Context&#10;) {&#10;    val now = Calendar.getInstance()&#10;    val currentHour = now.get(Calendar.HOUR_OF_DAY)&#10;    val currentMinute = now.get(Calendar.MINUTE)&#10;&#10;    // Parse start time for end time validation&#10;    var startHour = currentHour&#10;    var startMinute = currentMinute&#10;    if (!isStart &amp;&amp; currentStartTime != &quot;00:00&quot;) {&#10;        try {&#10;            val parts = currentStartTime.split(&quot;:&quot;)&#10;            if (parts.size == 2) {&#10;                startHour = parts[0].toInt()&#10;                startMinute = parts[1].toInt()&#10;            }&#10;        } catch (_: Exception) {&#10;            // Use current time&#10;        }&#10;    }&#10;&#10;    val minHour = if (isStart) currentHour else startHour&#10;    val minMinute = if (isStart) currentMinute else startMinute&#10;&#10;    val timePickerState = rememberTimePickerState(&#10;        initialHour = minHour,&#10;        initialMinute = minMinute,&#10;        is24Hour = true&#10;    )&#10;&#10;    androidx.compose.material3.AlertDialog(&#10;        onDismissRequest = onDismiss,&#10;        confirmButton = {&#10;            TextButton(&#10;                onClick = {&#10;                    val selectedHour = timePickerState.hour&#10;                    val selectedMinute = timePickerState.minute&#10;&#10;                    // Validate time&#10;                    val isValid = if (isStart) {&#10;                        selectedHour &gt; minHour || (selectedHour == minHour &amp;&amp; selectedMinute &gt;= minMinute)&#10;                    } else {&#10;                        selectedHour &gt; minHour || (selectedHour == minHour &amp;&amp; selectedMinute &gt; minMinute)&#10;                    }&#10;&#10;                    if (isValid) {&#10;                        val timeString = String.format(Locale.getDefault(), &quot;%02d:%02d&quot;, selectedHour, selectedMinute)&#10;                        onTimeSelected(timeString)&#10;                    } else {&#10;                        val message = if (isStart) {&#10;                            &quot;Tidak dapat memilih waktu yang sudah lewat&quot;&#10;                        } else {&#10;                            &quot;Waktu akhir harus lebih dari waktu mulai&quot;&#10;                        }&#10;                        Toast.makeText(context, message, Toast.LENGTH_SHORT).show()&#10;                    }&#10;                }&#10;            ) {&#10;                Text(&quot;OK&quot;)&#10;            }&#10;        },&#10;        dismissButton = {&#10;            TextButton(onClick = onDismiss) {&#10;                Text(&quot;Batal&quot;)&#10;            }&#10;        },&#10;        text = {&#10;            Column(&#10;                horizontalAlignment = Alignment.CenterHorizontally,&#10;                modifier = Modifier.fillMaxWidth()&#10;            ) {&#10;                TimePicker(state = timePickerState)&#10;            }&#10;        }&#10;    )&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/petpal/presentation/view/PetSelectionScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/petpal/presentation/view/PetSelectionScreen.kt" />
              <option name="originalContent" value="package com.example.petpal.presentation.view&#10;&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.border&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.lazy.LazyColumn&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.clip&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.lifecycle.viewmodel.compose.viewModel&#10;import coil.compose.AsyncImage&#10;import com.example.petpal.R&#10;import com.example.petpal.data.model.Pet&#10;import com.example.petpal.presentation.theme.BlackText&#10;import com.example.petpal.presentation.theme.GrayText&#10;import com.example.petpal.presentation.theme.PetPalDarkGreen&#10;import com.example.petpal.presentation.theme.White&#10;import com.example.petpal.presentation.viewmodel.PetViewModel&#10;import com.example.petpal.utils.UiState&#10;&#10;@Composable&#10;fun PetSelectionScreen(&#10;    onNavigateBack: () -&gt; Unit,&#10;    onNavigateToAddPet: () -&gt; Unit,&#10;    onPetsSelected: (List&lt;Pet&gt;) -&gt; Unit,&#10;    viewModel: PetViewModel = viewModel()&#10;) {&#10;    val state by viewModel.petsState.collectAsState()&#10;    var selectedPets by remember { mutableStateOf&lt;Set&lt;String&gt;&gt;(emptySet()) }&#10;&#10;    LaunchedEffect(Unit) {&#10;        viewModel.loadUserPets()&#10;    }&#10;&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(White)&#10;            .windowInsetsPadding(WindowInsets.systemBars)&#10;    ) {&#10;        // Header&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(16.dp),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            IconButton(onClick = onNavigateBack) {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_close_foreground),&#10;                    contentDescription = &quot;Close&quot;,&#10;                    modifier = Modifier.size(24.dp)&#10;                )&#10;            }&#10;&#10;            Text(&#10;                text = &quot;Pilih Hewan Peliharaan-mu&quot;,&#10;                fontSize = 18.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = BlackText,&#10;                modifier = Modifier&#10;                    .weight(1f)&#10;                    .padding(start = 8.dp)&#10;            )&#10;        }&#10;&#10;        // Content&#10;        Box(&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .fillMaxWidth()&#10;        ) {&#10;            when (val result = state) {&#10;                is UiState.Loading -&gt; {&#10;                    CircularProgressIndicator(&#10;                        modifier = Modifier.align(Alignment.Center)&#10;                    )&#10;                }&#10;                is UiState.Error -&gt; {&#10;                    Text(&#10;                        text = result.message,&#10;                        color = BlackText,&#10;                        modifier = Modifier&#10;                            .align(Alignment.Center)&#10;                            .padding(16.dp)&#10;                    )&#10;                }&#10;                is UiState.Success&lt;*&gt; -&gt; {&#10;                    val pets = (result as UiState.Success&lt;List&lt;Pet&gt;&gt;).data&#10;&#10;                    if (pets.isEmpty()) {&#10;                        // No pets - show add pet button&#10;                        Column(&#10;                            modifier = Modifier&#10;                                .align(Alignment.Center)&#10;                                .padding(32.dp),&#10;                            horizontalAlignment = Alignment.CenterHorizontally&#10;                        ) {&#10;                            Text(&#10;                                text = &quot;Belum ada hewan peliharaan&quot;,&#10;                                fontSize = 16.sp,&#10;                                color = GrayText,&#10;                                modifier = Modifier.padding(bottom = 16.dp)&#10;                            )&#10;&#10;                            Button(&#10;                                onClick = onNavigateToAddPet,&#10;                                colors = ButtonDefaults.buttonColors(&#10;                                    containerColor = GrayText.copy(alpha = 0.2f),&#10;                                    contentColor = BlackText&#10;                                ),&#10;                                shape = RoundedCornerShape(12.dp),&#10;                                modifier = Modifier.fillMaxWidth()&#10;                            ) {&#10;                                Icon(&#10;                                    painter = painterResource(id = R.drawable.icon_arrowright),&#10;                                    contentDescription = &quot;Add&quot;,&#10;                                    modifier = Modifier.size(20.dp)&#10;                                )&#10;                                Spacer(modifier = Modifier.width(8.dp))&#10;                                Text(&#10;                                    text = &quot;Tambah Hewan&quot;,&#10;                                    fontSize = 16.sp,&#10;                                    fontWeight = FontWeight.Medium&#10;                                )&#10;                            }&#10;                        }&#10;                    } else {&#10;                        // Show pets list&#10;                        LazyColumn(&#10;                            modifier = Modifier.fillMaxSize(),&#10;                            contentPadding = PaddingValues(horizontal = 24.dp, vertical = 16.dp),&#10;                            verticalArrangement = Arrangement.spacedBy(12.dp)&#10;                        ) {&#10;                            items(pets) { pet -&gt;&#10;                                PetSelectionItem(&#10;                                    pet = pet,&#10;                                    isSelected = selectedPets.contains(pet.id),&#10;                                    onSelectionChanged = { isSelected -&gt;&#10;                                        selectedPets = if (isSelected) {&#10;                                            selectedPets + pet.id&#10;                                        } else {&#10;                                            selectedPets - pet.id&#10;                                        }&#10;                                    }&#10;                                )&#10;                            }&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;&#10;        // Bottom Button&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .background(White)&#10;                .padding(horizontal = 32.dp, vertical = 16.dp)&#10;        ) {&#10;            Button(&#10;                onClick = {&#10;                    val selected = when (val result = state) {&#10;                        is UiState.Success&lt;*&gt; -&gt; {&#10;                            ((result as UiState.Success&lt;List&lt;Pet&gt;&gt;).data).filter { selectedPets.contains(it.id) }&#10;                        }&#10;                        else -&gt; emptyList()&#10;                    }&#10;                    onPetsSelected(selected)&#10;                },&#10;                enabled = selectedPets.isNotEmpty(),&#10;                colors = ButtonDefaults.buttonColors(&#10;                    containerColor = PetPalDarkGreen,&#10;                    contentColor = White,&#10;                    disabledContainerColor = GrayText.copy(alpha = 0.5f),&#10;                    disabledContentColor = White&#10;                ),&#10;                shape = RoundedCornerShape(32.dp),&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .height(56.dp)&#10;            ) {&#10;                Text(&#10;                    text = &quot;Pilih Hewan&quot;,&#10;                    fontSize = 16.sp,&#10;                    fontWeight = FontWeight.Bold&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun PetSelectionItem(&#10;    pet: Pet,&#10;    isSelected: Boolean,&#10;    onSelectionChanged: (Boolean) -&gt; Unit&#10;) {&#10;    Row(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .clickable { onSelectionChanged(!isSelected) }&#10;            .padding(vertical = 8.dp),&#10;        verticalAlignment = Alignment.CenterVertically&#10;    ) {&#10;        // Pet Image&#10;        Box(&#10;            modifier = Modifier&#10;                .size(60.dp)&#10;                .clip(CircleShape)&#10;                .background(GrayText.copy(alpha = 0.1f))&#10;        ) {&#10;            if (pet.photoUrl.isNotEmpty()) {&#10;                AsyncImage(&#10;                    model = pet.photoUrl,&#10;                    contentDescription = pet.name,&#10;                    contentScale = ContentScale.Crop,&#10;                    modifier = Modifier.fillMaxSize()&#10;                )&#10;            } else {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_petoption_foreground),&#10;                    contentDescription = pet.name,&#10;                    modifier = Modifier&#10;                        .size(40.dp)&#10;                        .align(Alignment.Center)&#10;                )&#10;            }&#10;        }&#10;&#10;        Spacer(modifier = Modifier.width(16.dp))&#10;&#10;        // Pet Info&#10;        Column(&#10;            modifier = Modifier.weight(1f)&#10;        ) {&#10;            Text(&#10;                text = pet.name.ifEmpty { &quot;Unknown&quot; },&#10;                fontSize = 16.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = BlackText&#10;            )&#10;&#10;            Text(&#10;                text = &quot;${pet.type.ifEmpty { &quot;&quot; }} | ${pet.gender.ifEmpty { &quot;&quot; }}&quot;,&#10;                fontSize = 14.sp,&#10;                color = GrayText&#10;            )&#10;        }&#10;&#10;        // Checkbox&#10;        Box(&#10;            modifier = Modifier&#10;                .size(24.dp)&#10;                .border(&#10;                    width = 2.dp,&#10;                    color = if (isSelected) PetPalDarkGreen else GrayText.copy(alpha = 0.5f),&#10;                    shape = RoundedCornerShape(4.dp)&#10;                )&#10;                .background(&#10;                    color = if (isSelected) PetPalDarkGreen else White,&#10;                    shape = RoundedCornerShape(4.dp)&#10;                ),&#10;            contentAlignment = Alignment.Center&#10;        ) {&#10;            if (isSelected) {&#10;                Icon(&#10;                    painter = painterResource(id = R.drawable.icon_petoption_foreground),&#10;                    contentDescription = &quot;Selected&quot;,&#10;                    tint = White,&#10;                    modifier = Modifier.size(16.dp)&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.petpal.presentation.view&#10;&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.border&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.lazy.LazyColumn&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.clip&#10;import androidx.compose.ui.layout.ContentScale&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import androidx.lifecycle.viewmodel.compose.viewModel&#10;import coil.compose.AsyncImage&#10;import com.example.petpal.R&#10;import com.example.petpal.data.model.Pet&#10;import com.example.petpal.presentation.theme.BlackText&#10;import com.example.petpal.presentation.theme.GrayText&#10;import com.example.petpal.presentation.theme.PetPalDarkGreen&#10;import com.example.petpal.presentation.theme.White&#10;import com.example.petpal.presentation.viewmodel.PetViewModel&#10;import com.example.petpal.utils.UiState&#10;&#10;@Composable&#10;fun PetSelectionScreen(&#10;    initialSelectedPets: List&lt;Pet&gt; = emptyList(),&#10;    onNavigateBack: () -&gt; Unit,&#10;    onNavigateToAddPet: () -&gt; Unit,&#10;    onPetsSelected: (List&lt;Pet&gt;) -&gt; Unit,&#10;    viewModel: PetViewModel = viewModel()&#10;) {&#10;    val state by viewModel.petsState.collectAsState()&#10;    var selectedPets by remember { mutableStateOf(initialSelectedPets.map { it.id }.toSet()) }&#10;&#10;    LaunchedEffect(Unit) {&#10;        viewModel.loadUserPets()&#10;    }&#10;&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(White)&#10;            .windowInsetsPadding(WindowInsets.systemBars)&#10;    ) {&#10;        // Header&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(16.dp),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            IconButton(onClick = onNavigateBack) {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_close_foreground),&#10;                    contentDescription = &quot;Close&quot;,&#10;                    modifier = Modifier.size(24.dp)&#10;                )&#10;            }&#10;&#10;            Text(&#10;                text = &quot;Pilih Hewan Peliharaan-mu&quot;,&#10;                fontSize = 18.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = BlackText,&#10;                modifier = Modifier&#10;                    .weight(1f)&#10;                    .padding(start = 8.dp)&#10;            )&#10;        }&#10;&#10;        // Content&#10;        Box(&#10;            modifier = Modifier&#10;                .weight(1f)&#10;                .fillMaxWidth()&#10;        ) {&#10;            when (val result = state) {&#10;                is UiState.Loading -&gt; {&#10;                    CircularProgressIndicator(&#10;                        modifier = Modifier.align(Alignment.Center)&#10;                    )&#10;                }&#10;                is UiState.Error -&gt; {&#10;                    Text(&#10;                        text = result.message,&#10;                        color = BlackText,&#10;                        modifier = Modifier&#10;                            .align(Alignment.Center)&#10;                            .padding(16.dp)&#10;                    )&#10;                }&#10;                is UiState.Success&lt;*&gt; -&gt; {&#10;                    val pets = (result as UiState.Success&lt;List&lt;Pet&gt;&gt;).data&#10;&#10;                    if (pets.isEmpty()) {&#10;                        // No pets - show add pet button&#10;                        Column(&#10;                            modifier = Modifier&#10;                                .align(Alignment.Center)&#10;                                .padding(32.dp),&#10;                            horizontalAlignment = Alignment.CenterHorizontally&#10;                        ) {&#10;                            Text(&#10;                                text = &quot;Belum ada hewan peliharaan&quot;,&#10;                                fontSize = 16.sp,&#10;                                color = GrayText,&#10;                                modifier = Modifier.padding(bottom = 16.dp)&#10;                            )&#10;&#10;                            Button(&#10;                                onClick = onNavigateToAddPet,&#10;                                colors = ButtonDefaults.buttonColors(&#10;                                    containerColor = GrayText.copy(alpha = 0.2f),&#10;                                    contentColor = BlackText&#10;                                ),&#10;                                shape = RoundedCornerShape(12.dp),&#10;                                modifier = Modifier.fillMaxWidth()&#10;                            ) {&#10;                                Icon(&#10;                                    painter = painterResource(id = R.drawable.icon_arrowright),&#10;                                    contentDescription = &quot;Add&quot;,&#10;                                    modifier = Modifier.size(20.dp)&#10;                                )&#10;                                Spacer(modifier = Modifier.width(8.dp))&#10;                                Text(&#10;                                    text = &quot;Tambah Hewan&quot;,&#10;                                    fontSize = 16.sp,&#10;                                    fontWeight = FontWeight.Medium&#10;                                )&#10;                            }&#10;                        }&#10;                    } else {&#10;                        // Show pets list&#10;                        LazyColumn(&#10;                            modifier = Modifier.fillMaxSize(),&#10;                            contentPadding = PaddingValues(horizontal = 24.dp, vertical = 16.dp),&#10;                            verticalArrangement = Arrangement.spacedBy(12.dp)&#10;                        ) {&#10;                            items(pets) { pet -&gt;&#10;                                PetSelectionItem(&#10;                                    pet = pet,&#10;                                    isSelected = selectedPets.contains(pet.id),&#10;                                    onSelectionChanged = { isSelected -&gt;&#10;                                        selectedPets = if (isSelected) {&#10;                                            selectedPets + pet.id&#10;                                        } else {&#10;                                            selectedPets - pet.id&#10;                                        }&#10;                                    }&#10;                                )&#10;                            }&#10;                        }&#10;                    }&#10;                }&#10;            }&#10;        }&#10;&#10;        // Bottom Button&#10;        Box(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .background(White)&#10;                .padding(horizontal = 32.dp, vertical = 16.dp)&#10;        ) {&#10;            Button(&#10;                onClick = {&#10;                    val selected = when (val result = state) {&#10;                        is UiState.Success&lt;*&gt; -&gt; {&#10;                            ((result as UiState.Success&lt;List&lt;Pet&gt;&gt;).data).filter { selectedPets.contains(it.id) }&#10;                        }&#10;                        else -&gt; emptyList()&#10;                    }&#10;                    onPetsSelected(selected)&#10;                },&#10;                enabled = selectedPets.isNotEmpty(),&#10;                colors = ButtonDefaults.buttonColors(&#10;                    containerColor = PetPalDarkGreen,&#10;                    contentColor = White,&#10;                    disabledContainerColor = GrayText.copy(alpha = 0.5f),&#10;                    disabledContentColor = White&#10;                ),&#10;                shape = RoundedCornerShape(32.dp),&#10;                modifier = Modifier&#10;                    .fillMaxWidth()&#10;                    .height(56.dp)&#10;            ) {&#10;                Text(&#10;                    text = &quot;Pilih Hewan&quot;,&#10;                    fontSize = 16.sp,&#10;                    fontWeight = FontWeight.Bold&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun PetSelectionItem(&#10;    pet: Pet,&#10;    isSelected: Boolean,&#10;    onSelectionChanged: (Boolean) -&gt; Unit&#10;) {&#10;    Row(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .clickable { onSelectionChanged(!isSelected) }&#10;            .padding(vertical = 8.dp),&#10;        verticalAlignment = Alignment.CenterVertically&#10;    ) {&#10;        // Pet Image&#10;        Box(&#10;            modifier = Modifier&#10;                .size(60.dp)&#10;                .clip(CircleShape)&#10;                .background(GrayText.copy(alpha = 0.1f))&#10;        ) {&#10;            if (pet.photoUrl.isNotEmpty()) {&#10;                AsyncImage(&#10;                    model = pet.photoUrl,&#10;                    contentDescription = pet.name,&#10;                    contentScale = ContentScale.Crop,&#10;                    modifier = Modifier.fillMaxSize()&#10;                )&#10;            } else {&#10;                Image(&#10;                    painter = painterResource(id = R.drawable.icon_petoption_foreground),&#10;                    contentDescription = pet.name,&#10;                    modifier = Modifier&#10;                        .size(40.dp)&#10;                        .align(Alignment.Center)&#10;                )&#10;            }&#10;        }&#10;&#10;        Spacer(modifier = Modifier.width(16.dp))&#10;&#10;        // Pet Info&#10;        Column(&#10;            modifier = Modifier.weight(1f)&#10;        ) {&#10;            Text(&#10;                text = pet.name.ifEmpty { &quot;Unknown&quot; },&#10;                fontSize = 16.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = BlackText&#10;            )&#10;&#10;            Text(&#10;                text = &quot;${pet.type.ifEmpty { &quot;&quot; }} | ${pet.gender.ifEmpty { &quot;&quot; }}&quot;,&#10;                fontSize = 14.sp,&#10;                color = GrayText&#10;            )&#10;        }&#10;&#10;        // Checkbox&#10;        Box(&#10;            modifier = Modifier&#10;                .size(24.dp)&#10;                .border(&#10;                    width = 2.dp,&#10;                    color = if (isSelected) PetPalDarkGreen else GrayText.copy(alpha = 0.5f),&#10;                    shape = RoundedCornerShape(4.dp)&#10;                )&#10;                .background(&#10;                    color = if (isSelected) PetPalDarkGreen else White,&#10;                    shape = RoundedCornerShape(4.dp)&#10;                ),&#10;            contentAlignment = Alignment.Center&#10;        ) {&#10;            if (isSelected) {&#10;                Icon(&#10;                    painter = painterResource(id = R.drawable.icon_petoption_foreground),&#10;                    contentDescription = &quot;Selected&quot;,&#10;                    tint = White,&#10;                    modifier = Modifier.size(16.dp)&#10;                )&#10;            }&#10;        }&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/petpal/presentation/view/TierSelectionScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/petpal/presentation/view/TierSelectionScreen.kt" />
              <option name="updatedContent" value="package com.example.petpal.presentation.view&#10;&#10;import androidx.compose.foundation.Image&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.clickable&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.shape.CircleShape&#10;import androidx.compose.foundation.shape.RoundedCornerShape&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.clip&#10;import androidx.compose.ui.res.painterResource&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.unit.dp&#10;import androidx.compose.ui.unit.sp&#10;import com.example.petpal.R&#10;import com.example.petpal.presentation.theme.BlackText&#10;import com.example.petpal.presentation.theme.GrayText&#10;import com.example.petpal.presentation.theme.White&#10;&#10;@Composable&#10;fun TierSelectionScreen(&#10;    onNavigateBack: () -&gt; Unit,&#10;    onTierSelected: (String) -&gt; Unit&#10;) {&#10;    Column(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(White)&#10;            .windowInsetsPadding(WindowInsets.systemBars)&#10;    ) {&#10;        // Header aligned with other screens&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(16.dp),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            IconButton(onClick = onNavigateBack) {&#10;                Icon(&#10;                    painter = painterResource(id = R.drawable.icon_close_foreground),&#10;                    contentDescription = &quot;Back&quot;&#10;                )&#10;            }&#10;&#10;            Text(&#10;                text = &quot;Pilih Tingkat Layanan&quot;,&#10;                fontSize = 18.sp,&#10;                fontWeight = FontWeight.Bold,&#10;                color = BlackText,&#10;                modifier = Modifier&#10;                    .weight(1f)&#10;                    .padding(start = 8.dp)&#10;            )&#10;        }&#10;&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(horizontal = 24.dp)&#10;        ) {&#10;            TierCard(&#10;                iconRes = R.drawable.icon_vvip_foreground,&#10;                title = &quot;VVIP&quot;,&#10;                description = &quot;Layanan premium, jumlah update foto lebih banyak, kamar/area privat, pejemputan, live cam, makan, grooming.&quot;,&#10;                onClick = { onTierSelected(&quot;VVIP&quot;) }&#10;            )&#10;&#10;            Spacer(modifier = Modifier.height(12.dp))&#10;&#10;            TierCard(&#10;                iconRes = R.drawable.icon_vip_foreground,&#10;                title = &quot;VIP&quot;,&#10;                description = &quot;Layanan premium, jumlah update foto lebih banyak, kamar/area privat, cam, grooming.&quot;,&#10;                onClick = { onTierSelected(&quot;VIP&quot;) }&#10;            )&#10;&#10;            Spacer(modifier = Modifier.height(12.dp))&#10;&#10;            TierCard(&#10;                iconRes = R.drawable.icon_reguler_foreground,&#10;                title = &quot;Reguler&quot;,&#10;                description = &quot;Layanan dasar dengan fitur standar, live cam, makan.&quot;,&#10;                onClick = { onTierSelected(&quot;Regular&quot;) }&#10;            )&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;private fun TierCard(&#10;    iconRes: Int,&#10;    title: String,&#10;    description: String,&#10;    onClick: () -&gt; Unit&#10;) {&#10;    Surface(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .clickable(onClick = onClick),&#10;        shape = RoundedCornerShape(16.dp),&#10;        color = White,&#10;        shadowElevation = 0.dp,&#10;        border = ButtonDefaults.outlinedButtonBorder&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .padding(16.dp),&#10;            verticalAlignment = Alignment.CenterVertically&#10;        ) {&#10;            Box(&#10;                modifier = Modifier&#10;                    .size(32.dp)&#10;                    .clip(CircleShape)&#10;                    .background(GrayText.copy(alpha = 0.1f)),&#10;                contentAlignment = Alignment.Center&#10;            ) {&#10;                Image(&#10;                    painter = painterResource(id = iconRes),&#10;                    contentDescription = title,&#10;                    modifier = Modifier.size(20.dp)&#10;                )&#10;            }&#10;&#10;            Spacer(modifier = Modifier.width(12.dp))&#10;&#10;            Column {&#10;                Text(&#10;                    text = title,&#10;                    fontSize = 16.sp,&#10;                    fontWeight = FontWeight.Bold,&#10;                    color = BlackText&#10;                )&#10;&#10;                Spacer(modifier = Modifier.height(4.dp))&#10;&#10;                Text(&#10;                    text = description,&#10;                    fontSize = 14.sp,&#10;                    color = GrayText&#10;                )&#10;            }&#10;        }&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>